<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>cddeGaoğŸŸ</title>
  
  
  <link href="https://codegao.cc/atom.xml" rel="self"/>
  
  <link href="https://codegao.cc/"/>
  <updated>2023-05-26T05:38:00.608Z</updated>
  <id>https://codegao.cc/</id>
  
  <author>
    <name>cddeGaoğŸŸ</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>DataXå­¦ä¹ ä¸ä½¿ç”¨ç¬”è®°</title>
    <link href="https://codegao.cc/posts/80f8c5fb.html"/>
    <id>https://codegao.cc/posts/80f8c5fb.html</id>
    <published>2023-05-17T02:37:00.000Z</published>
    <updated>2023-05-26T05:38:00.608Z</updated>
    
    <content type="html"><![CDATA[<h1>æ¦‚è¿°</h1><h2 id="ä»€ä¹ˆæ˜¯DataX">ä»€ä¹ˆæ˜¯DataX</h2><p>DataX æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªå¼‚æ„æ•°æ®æºç¦»çº¿åŒæ­¥å·¥å…·ï¼Œè‡´åŠ›äºå®ç°åŒ…æ‹¬å…³ç³»å‹æ•°æ®<br>åº“(MySQLã€Oracle ç­‰)ã€HDFSã€Hiveã€ODPSã€HBaseã€FTP ç­‰å„ç§å¼‚æ„æ•°æ®æºä¹‹é—´ç¨³å®šé«˜<br>æ•ˆçš„æ•°æ®åŒæ­¥åŠŸèƒ½ã€‚</p>]]></content>
    
    
    <summary type="html">DataXå­¦ä¹ åŠé‡åˆ°çš„é—®é¢˜è®°å½•</summary>
    
    
    
    <category term="å¤§æ•°æ®" scheme="https://codegao.cc/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
    
    <category term="DataX" scheme="https://codegao.cc/tags/DataX/"/>
    
  </entry>
  
  <entry>
    <title>å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°(äºŒ)</title>
    <link href="https://codegao.cc/posts/42eff9f3.html"/>
    <id>https://codegao.cc/posts/42eff9f3.html</id>
    <published>2023-04-23T02:29:00.000Z</published>
    <updated>2023-05-26T10:09:54.760Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸šåŠ¡ä»‹ç»">ä¸šåŠ¡ä»‹ç»</h2>]]></content>
    
    
    <summary type="html">å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°</summary>
    
    
    
    <category term="å¤§æ•°æ®" scheme="https://codegao.cc/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
    
    <category term="æ•°æ®ä»“åº“" scheme="https://codegao.cc/tags/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>hiveå¸¸ç”¨å‘½ä»¤</title>
    <link href="https://codegao.cc/posts/87c40b54.html"/>
    <id>https://codegao.cc/posts/87c40b54.html</id>
    <published>2023-04-20T07:41:00.000Z</published>
    <updated>2023-04-20T08:03:11.926Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ€»ç»“hiveå¸¸ç”¨å‘½ä»¤">æ€»ç»“hiveå¸¸ç”¨å‘½ä»¤</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä»¥shllæ–¹å¼æ‰§è¡Œhiveå‘½ä»¤</span></span><br><span class="line">hive -e &quot;&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‰§è¡Œå«æœ‰shellå‘½ä»¤çš„è„šæœ¬</span></span><br><span class="line">hive -f xx.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ¸…ç©ºè¡¨ä¸­çš„æ•°æ®</span></span><br><span class="line">truncate table db.table</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ–‡ä»¶ä¸­æ•°æ®å¯¼å…¥åˆ°hive</span></span><br><span class="line">load data inpath &#x27;/user/hive/tmp1.csv&#x27; into table db.table</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ–‡ä»¶ä¸­æ•°æ®å¯¼å…¥åˆ°hive(è¦†ç›–)</span></span><br><span class="line">load data inpath &#x27;/user/hive/tmp1.csv&#x27; OVERWRITE into table db.table</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">hiveç”¨åˆ°çš„å‘½ä»¤</summary>
    
    
    
    <category term="å¤§æ•°æ®" scheme="https://codegao.cc/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
    
    <category term="hive" scheme="https://codegao.cc/tags/hive/"/>
    
  </entry>
  
  <entry>
    <title>javaæ‰§è¡Œshellå‘½ä»¤æ— æ³•ä½¿ç”¨ç®¡é“ç¬¦</title>
    <link href="https://codegao.cc/posts/474787d7.html"/>
    <id>https://codegao.cc/posts/474787d7.html</id>
    <published>2023-04-07T05:21:41.000Z</published>
    <updated>2023-04-07T05:32:41.994Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œjavaé€šè¿‡Runtime exec()æ‰§è¡Œshellå‘½ä»¤æ— æ³•ä½¿ç”¨grepã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rt.exec(<span class="string">&quot;top -b -n 1 | grep top&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ˜¯æ— æ³•æ‰§è¡Œçš„</p><p>æ”¹ä¸º:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String[] command = &#123; <span class="string">&quot;/bin/sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;top -b -n 1 | grep top&quot;</span>&#125;;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥äº†</p>]]></content>
    
    
    <summary type="html">javaæ‰§è¡Œshellå‘½ä»¤æ— æ³•ä½¿ç”¨grepç®¡é“ç¬¦</summary>
    
    
    
    <category term="Java" scheme="https://codegao.cc/categories/Java/"/>
    
    
    <category term="Java" scheme="https://codegao.cc/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>ubuntuå®‰è£…åŠå¸¸ç”¨å‘½ä»¤</title>
    <link href="https://codegao.cc/posts/3178680b.html"/>
    <id>https://codegao.cc/posts/3178680b.html</id>
    <published>2023-03-21T09:42:00.000Z</published>
    <updated>2023-03-22T05:44:25.016Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç¯å¢ƒè¯´æ˜">ç¯å¢ƒè¯´æ˜</h2><h3 id="ç£ç›˜åˆ†åŒº">ç£ç›˜åˆ†åŒº</h3><p>é¦–å…ˆè¦çŸ¥é“ä½ ç”µè„‘çš„ç£ç›˜åˆ†åŒºæ˜¯GPTè¿˜æ˜¯MBRçš„ï¼Œåˆ†åŒºå¯ä»¥å†³å®šä½ ç”¨å“ªç§æ–¹å¼å®‰è£…ç³»ç»Ÿï¼Œä»¥åŠå®‰è£…ä»€ä¹ˆç‰ˆæœ¬çš„ç³»ç»Ÿã€‚<br><strong>WindosæŸ¥çœ‹ç£ç›˜åˆ†åŒº</strong><br>æˆ‘çš„ç”µè„‘-&gt;ç®¡ç†-&gt;ç£ç›˜ç®¡ç†<br>ç„¶åé€‰ä¸­ ç£ç›˜0 å³é”®å±æ€§<br>é€‰æ‹©å·ï¼Œå°±å¯ä»¥æŸ¥çœ‹ç£ç›˜åˆ†åŒºäº†</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/ubuntuå®‰è£…åŠå¸¸ç”¨å‘½ä»¤/01.jpg"/></div></div><p>ä¸€èˆ¬æ–°ç”µè„‘éƒ½æ˜¯GPTåˆ†åŒºçš„ï¼Œè€ç”µè„‘æ˜¯MBRåˆ†åŒºçš„<br>GPTåˆ†åŒºçš„æˆ‘ä»¬é€‰æ‹©ubuntu<br>MBRåˆ†åŒºçš„å¯ä»¥è£…centos<br>å…³äºGPTå’ŒMBRï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="https://zhuanlan.zhihu.com/p/37977078">https://zhuanlan.zhihu.com/p/37977078</a></p><p>å¦‚æœGPTåˆ†åŒºçš„ä¸»æ¿ä¸æ”¯æŒMBRçš„è¯ï¼Œä¼šå‡ºç°<code>grub&gt;</code>çš„é—®é¢˜</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/ubuntuå®‰è£…åŠå¸¸ç”¨å‘½ä»¤/03.jpg"/></div></div><h3 id="ä¸‹è½½é•œåƒ">ä¸‹è½½é•œåƒ</h3><p>ç”±äºç£ç›˜åˆ†åŒºæ ¼å¼é™åˆ¶ï¼Œæˆ‘é€‰æ‹©æœ€æ–°ç¨³å®šç‰ˆæœ¬çš„ubuntuï¼Œä¸‹è½½åœ°å€ï¼š<a href="https://ubuntu.com/download/server">https://ubuntu.com/download/server</a><br>ubuntuæœ‰æ¡Œé¢ç‰ˆå’Œå‘½ä»¤è¡Œç‰ˆï¼Œæˆ‘ä¸‹è½½çš„æ˜¯serverç‰ˆæœ¬(å‘½ä»¤ç‰ˆ)</p><h3 id="åˆ¶ä½œLinuxå¯åŠ¨ç›˜">åˆ¶ä½œLinuxå¯åŠ¨ç›˜</h3><p>å¯åŠ¨ç›˜æˆ‘ä»¬ä½¿ç”¨Rufusæ¥åˆ¶ä½œ<br>ä¸‹è½½åœ°å€ï¼š<a href="https://rufus.ie/zh/">https://rufus.ie/zh/</a><br>ä¸‹è½½å¥½åæ’ä¸ŠUç›˜ï¼Œæ‰“å¼€Rufusï¼Œå°±å¯ä»¥è¯»åˆ°æˆ‘ä»¬çš„Uç›˜äº†ã€‚<br>é€‰æ‹©åˆšåˆšä¸‹è½½çš„é•œåƒï¼Œä»¥åŠé€‚é…ç”µè„‘çš„åˆ†åŒºç±»å‹å’Œæ–‡ä»¶ç³»ç»Ÿ</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/ubuntuå®‰è£…åŠå¸¸ç”¨å‘½ä»¤/02.jpg"/></div></div><p>ç‚¹å‡»å¼€å§‹ï¼Œç­‰å¾…åˆ¶ä½œå³å¯ã€‚</p><h2 id="å®‰è£…ubuntu">å®‰è£…ubuntu</h2><p>æ’ä¸Šåˆ¶ä½œå¥½çš„Uç›˜ï¼Œè¿›å…¥Bios<br>è®¾ç½®Uç›˜å¯åŠ¨</p><p>è¯­è¨€å’Œé”®ç›˜è®¾ç½®é»˜è®¤å°±å¯ä»¥</p><h3 id="ç½‘ç»œé…ç½®">ç½‘ç»œé…ç½®</h3><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/ubuntuå®‰è£…åŠå¸¸ç”¨å‘½ä»¤/04.png"/></div></div><p>è¿™ä¸ªæ­¥éª¤å¯ä»¥é€‰æ‹©DHCPè·å–IPï¼Œæœ‰åˆ©äºæ–°æ‰‹å¿«é€Ÿå­¦ä¹ ï¼Œå¦‚æœæœ‰IPçŸ¥è¯†ï¼Œä¹Ÿå¯ä»¥æŒ‰tabé”®é…ç½®IPç›¸å…³ åœ°å€ï¼Œå¦‚ä¸Šå›¾ä¸­æ ‡è®°ã€‚</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/ubuntuå®‰è£…åŠå¸¸ç”¨å‘½ä»¤/05.png"/></div></div><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/ubuntuå®‰è£…åŠå¸¸ç”¨å‘½ä»¤/06.png"/></div></div><p>é…ç½®çš„å›ºå®šipåœ°å€å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ°å€æ®µæ ¹æ®vmé»˜è®¤å³å¯ï¼ŒDNSä¸ºå…¬å…±å¯ç”¨DNSã€‚</p><h3 id="å…¶ä»–é…ç½®">å…¶ä»–é…ç½®</h3><p>ä»£ç†ã€æºéƒ½å¯ä»¥å®‰è£…å¥½åå†é…ç½®<br>ç£ç›˜åˆ†åŒºå¯ä»¥é€‰æ‹©é»˜è®¤çš„</p><h3 id="ç³»ç»Ÿä¿¡æ¯">ç³»ç»Ÿä¿¡æ¯</h3><p>é…ç½®ç³»ç»Ÿä¸»æœºåã€ç™»å½•ç”¨æˆ·å’Œå¯†ç ã€‚</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/ubuntuå®‰è£…åŠå¸¸ç”¨å‘½ä»¤/07.png"/></div></div><h3 id="sshå·¥å…·">sshå·¥å…·</h3><p>æŒ‰ç©ºæ ¼é”®å‹¾é€‰å›¾ä¸­çš„å°æ–¹æ¡†å†…ä¸ºå°å‰å­ï¼Œç„¶åæŒ‰tabé”®é€‰æ‹©Doneç»§ç»­ã€‚</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/ubuntuå®‰è£…åŠå¸¸ç”¨å‘½ä»¤/08.png"/></div></div><p>ç„¶åå°±å®‰è£…å®Œæˆå•¦ï¼</p><h2 id="ubuntuå¸¸ç”¨é…ç½®">ubuntuå¸¸ç”¨é…ç½®</h2><h3 id="rootç”¨æˆ·ç®¡ç†">rootç”¨æˆ·ç®¡ç†</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ‡æ¢rootç”¨æˆ·</span></span><br><span class="line">sudo su</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹rootå¯†ç </span></span><br><span class="line">sudo passwd root</span><br></pre></td></tr></table></figure><h3 id="sshé…ç½®">sshé…ç½®</h3><p>é»˜è®¤Ubuntuä¸å…è®¸rootè¿œç¨‹ç™»å½•ï¼ŒåæœŸå¦‚æœæƒ³é€šè¿‡rootç™»é™†ç³»ç»Ÿåˆ™å¿…é¡»ä¿®æ”¹SSHé…ç½®æ–‡ä»¶ä¸­çš„ç›¸å…³å‚æ•° æ‰è¡Œã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹sshé…ç½®</span></span><br><span class="line">sudo vim /etc/ssh/sshd_config PermitRootLogin yes</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é‡å¯sshdè¿›ç¨‹</span></span><br><span class="line">sudo systemctl restart sshd</span><br></pre></td></tr></table></figure><h3 id="é…ç½®aptæº">é…ç½®aptæº</h3><p>ubuntuä¸‹çš„è½¯ä»¶æºå¯ä»¥åœ¨é˜¿é‡Œæºæˆ–è€…æ¸…åæºä¸Šæ‰¾åˆ°ç›¸åº”çš„é…ç½®æ–¹æ³•:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/apt/sources.list</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ›´æ–°ç¼“å­˜</span></span><br><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><h3 id="å…³é—­ä¼‘çœ ">å…³é—­ä¼‘çœ </h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹é…ç½®æ–‡ä»¶</span></span><br><span class="line">vim /etc/systemd/logind.conf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹å†…å®¹ï¼š</span></span><br><span class="line">HandleLidSwitch=ignore</span><br><span class="line">HandleLidSwitchExternalPower=ignore</span><br><span class="line">HandleLidSwitchDocked=ignore</span><br></pre></td></tr></table></figure><h3 id="å…³é—­é˜²ç«å¢™">å…³é—­é˜²ç«å¢™</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€</span></span><br><span class="line">sudo ufw status</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å…³é—­é˜²ç«å¢™</span></span><br><span class="line">sudo ufw disable</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¼€å¯é˜²ç«å¢™</span></span><br><span class="line">sudo ufw enable</span><br></pre></td></tr></table></figure><h3 id="é…ç½®é™æ€ip">é…ç½®é™æ€ip</h3><p>ubuntu22çš„ç½‘ç»œé…ç½®ç»Ÿä¸€åœ¨/etc/netplan/ä¸‹ç®¡ç†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/netplan/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¤‡ä»½</span></span><br><span class="line">sudo cp 01-network-manager-all.yaml 01-network-manager-all.yaml.bak</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">##ä¿®æ”¹å†…å®¹</span></span></span><br><span class="line">vim 01-network-manager-all.yaml</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/ubuntuå®‰è£…åŠå¸¸ç”¨å‘½ä»¤/09.jpg"/></div></div><p>æœ€åï¼Œè®©é…ç½®ç”Ÿæ•ˆ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo netplan apply</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸çŸ¥é“ç½‘ç»œå‚æ•°å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ipã€å­ç½‘æ©ç </span></span><br><span class="line">ip -a</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ç½‘å…³</span></span><br><span class="line">route -n</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹dns</span></span><br><span class="line">resolvectl status</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ç‰©ç†æœºå®‰è£…ubuntuçš„é…ç½®åŠå¸¸ç”¨å‘½ä»¤</summary>
    
    
    
    <category term="æœåŠ¡å™¨" scheme="https://codegao.cc/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
    <category term="ubuntu" scheme="https://codegao.cc/tags/ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>Login-shellä¸NoLogin-shellåŒºåˆ«</title>
    <link href="https://codegao.cc/posts/5988758c.html"/>
    <id>https://codegao.cc/posts/5988758c.html</id>
    <published>2023-03-15T03:05:00.000Z</published>
    <updated>2023-03-15T03:17:04.852Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Linuxç¯å¢ƒå˜é‡é…ç½®è¯´æ˜">Linuxç¯å¢ƒå˜é‡é…ç½®è¯´æ˜</h3><p>Linuxçš„ç¯å¢ƒå˜é‡å¯ä»¥åœ¨å¤šä¸ªæ–‡ä»¶ä¸­é…ç½®ï¼Œå¦‚/etc/profileï¼Œ/etc/profile.d/*.shï¼Œ~/.bashrcï¼Œ~/.bash_profileç­‰ï¼Œä¸‹é¢è¯´ä»¥ä¸‹ä¸Šè¿°å‡ ä¸ªæ–‡ä»¶ä¹‹é—´çš„å…³ç³»å’ŒåŒºåˆ«ã€‚</p><p>bashçš„è¿è¡Œæ¨¡å¼å¯åˆ†ä¸º<strong>login shell</strong>å’Œ<strong>non-login shell</strong>ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬é€šè¿‡ç»ˆç«¯ï¼Œ<strong>è¾“å…¥ç”¨æˆ·åã€å¯†ç </strong>ï¼Œç™»å½•ç³»ç»Ÿä¹‹åï¼Œå¾—åˆ°å°±æ˜¯ä¸€ä¸ªlogin shellã€‚è€Œå½“æˆ‘ä»¬æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ssh å‘½ä»¤çš„æ—¶å€™ï¼Œå°±æ˜¯ä¸€ä¸ªnon-login shellã€‚</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/Login-shellä¸NoLogin-shellåŒºåˆ«/1.jpg"/></div></div><p>è¿™ä¸¤ç§shellçš„åŒºåˆ«åœ¨äºï¼Œå®ƒä»¬å¯åŠ¨æ—¶ä¼šåŠ è½½ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œ<strong>login shell</strong>å¯åŠ¨æ—¶ä¼šåŠ è½½<code>/etc/profileï¼Œ~/.bash_profileï¼Œ~/.bashrc</code>ã€‚<strong>non-login shell</strong>å¯åŠ¨æ—¶ä¼šåŠ è½½<code>~/.bashrc</code>ã€‚<br>è€Œåœ¨åŠ è½½<code>~/.bashrc</code>æˆ–<code>/etc/profile</code>æ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œå¦‚ä¸‹ä»£ç ç‰‡æ®µï¼š</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/Login-shellä¸NoLogin-shellåŒºåˆ«/2.jpg"/></div></div><p>å› æ­¤ä¸ç®¡æ˜¯login shellè¿˜æ˜¯non-login shellï¼Œå¯åŠ¨æ—¶éƒ½ä¼šåŠ è½½/etc/profile.d/*.shä¸­çš„ç¯å¢ƒå˜é‡ã€‚</p>]]></content>
    
    
    <summary type="html">Linuxä¸­Login-shellä¸NoLogin-shellåŒºåˆ«</summary>
    
    
    
    <category term="æœåŠ¡å™¨" scheme="https://codegao.cc/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
    <category term="Linux" scheme="https://codegao.cc/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Linuxå¿˜è®°rootå¯†ç </title>
    <link href="https://codegao.cc/posts/a4c14829.html"/>
    <id>https://codegao.cc/posts/a4c14829.html</id>
    <published>2023-03-15T02:32:00.000Z</published>
    <updated>2023-03-15T02:55:41.631Z</updated>
    
    <content type="html"><![CDATA[<p>â‘ é‡å¯æœåŠ¡å™¨ï¼ŒæŒ‰<code>e</code>è¿›å…¥ç¼–è¾‘æ¨¡å¼</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/Linuxå¿˜è®°rootå¯†ç /1.jpg"/></div></div><p>â‘¡åœ¨linux16è¿™è¡Œçš„æœ«å°¾æ·»åŠ <code>init=/bin/sh</code></p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/Linuxå¿˜è®°rootå¯†ç /2.jpg"/></div></div><p>â‘¢ç„¶åæŒ‰<code>Ctrl+X</code>è¿›å…¥å•ç”¨æˆ·æ¨¡å¼</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/Linuxå¿˜è®°rootå¯†ç /3.jpg"/></div></div><p>â‘£è¾“å…¥<code>mount -o remount,rw /</code>ï¼Œè¾“å…¥å®ŒæˆåæŒ‰å›è½¦</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/Linuxå¿˜è®°rootå¯†ç /4.jpg"/></div></div><p>â‘¤å†è¾“å…¥passwdå¹¶å›è½¦ï¼Œæ¥ä¸‹æ¥è¾“å…¥å¯†ç ï¼Œç¡®è®¤å¯†ç å³å¯</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/Linuxå¿˜è®°rootå¯†ç /5.jpg"/></div></div><p>â‘¥æ¥ä¸‹æ¥è¾“å…¥<code>touch /.autorelabel</code></p><p>â‘¦å†ç»§ç»­è¾“å…¥<code>exec /sbin/init</code>ç­‰å¾…é‡å¯å³å¯</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/Linuxå¿˜è®°rootå¯†ç /6.jpg"/></div></div>]]></content>
    
    
    <summary type="html">Linuxå¿˜è®°rootå¯†ç çš„è§£å†³æ–¹æ¡ˆ</summary>
    
    
    
    <category term="æœåŠ¡å™¨" scheme="https://codegao.cc/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
    <category term="Linux" scheme="https://codegao.cc/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°(ä¸€)</title>
    <link href="https://codegao.cc/posts/edde6291.html"/>
    <id>https://codegao.cc/posts/edde6291.html</id>
    <published>2023-03-03T07:29:00.000Z</published>
    <updated>2023-04-24T11:02:45.531Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ªäººè·Ÿç€å°šç¡…è°·æ•°ä»“é¡¹ç›®åšçš„ç¬”è®°ï¼Œä»…ä¾›å­¦ä¹ ä½¿ç”¨.</p><h2 id="æ•°æ®ä»“åº“">æ•°æ®ä»“åº“</h2><h3 id="æ•°æ®ä»“åº“æ¦‚å¿µ">æ•°æ®ä»“åº“æ¦‚å¿µ</h3><p><strong>æ•°æ®ä»“åº“(Data Warehouse)</strong>ï¼šæ˜¯ä¸ºä¼ä¸šåˆ¶å®šå†³ç­–ï¼Œæä¾›æ•°æ®æ”¯æŒçš„ã€‚å¯ä»¥å¸®åŠ©ä¼ä¸šæ”¹è¿›ä¸šåŠ¡æµç¨‹ã€æé«˜äº§å“è´¨é‡ç­‰ã€‚</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/image-20230303161105491.png"/></div></div><p><strong>ODS</strong>ï¼šæ•°æ®å¤‡ä»½ï¼ŒåŸå°ä¸åŠ¨åœ°æŠŠè¾“å…¥çš„æ•°æ®å­˜æ”¾èµ·æ¥</p><p><strong>DWD</strong>ï¼šä¸»è¦åšæ•°æ®æ¸…æ´—</p><p><strong>DWS</strong>ï¼šé¢„èšåˆï¼Œé¿å…å¤§è¡¨é‡å¤joinï¼Œæ¶ˆè€—æ€§èƒ½å’Œèµ„æº</p><p><strong>ADS</strong>ï¼šå­˜æ”¾æœ€ç»ˆçš„æŒ‡æ ‡ï¼Œå¹¶è¾“å‡ºåˆ°å„ä¸ªç³»ç»Ÿä¸­</p><p>æ•°æ®ä»“åº“å¹¶ä¸æ˜¯æ•°æ®çš„æœ€ç»ˆç›®çš„åœ°ï¼ŒäºŒåä¸ºæ•°æ®æœ€ç»ˆçš„ç›®çš„åœ°åšå¥½å‡†å¤‡ã€‚è¿™äº›å‡†å¤‡åŒ…æ‹¬å¯¹æ•°æ®çš„ï¼š<strong>å¤‡ä»½ã€æ¸…æ´—ã€èšåˆã€ç»Ÿè®¡</strong>ç­‰ã€‚</p><h3 id="æ•°æ®ä»“åº“éœ€æ±‚">æ•°æ®ä»“åº“éœ€æ±‚</h3><h4 id="ç¦»çº¿éœ€æ±‚">ç¦»çº¿éœ€æ±‚</h4><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/image-20230303163500611.png"/></div></div><h4 id="å®æ—¶éœ€æ±‚">å®æ—¶éœ€æ±‚</h4><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/image-20230303163618624.png"/></div></div><h4 id="æŠ€æœ¯é€‰å‹">æŠ€æœ¯é€‰å‹</h4><p>æŠ€æœ¯é€‰å‹ä¸»è¦è€ƒè™‘å› ç´ ï¼š<strong>æ•°æ®é‡å¤§å°ã€ä¸šåŠ¡éœ€æ±‚ã€ä¸šå†…ç»éªŒã€æŠ€æœ¯æˆç†Ÿåº¦ã€å¼€å‘ç»´æŠ¤æˆæœ¬ã€æ€»æˆæœ¬é¢„ç®—</strong></p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/image-20230303165245511.png"/></div></div><h3 id="æ•°æ®æµç¨‹è®¾è®¡">æ•°æ®æµç¨‹è®¾è®¡</h3><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/image-20230303174108151.png"/></div></div><h3 id="å…·ä½“ç‰ˆæœ¬å·é€‰æ‹©">å…·ä½“ç‰ˆæœ¬å·é€‰æ‹©</h3><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€//image-20230309145644051.png"/></div></div><h2 id="ç”¨æˆ·è¡Œä¸º">ç”¨æˆ·è¡Œä¸º</h2><h3 id="ç”¨æˆ·è¡Œä¸ºæ¦‚è¿°">ç”¨æˆ·è¡Œä¸ºæ¦‚è¿°</h3><p>ç”¨æˆ·è¡Œä¸ºæ—¥å¿—çš„å†…å®¹ï¼Œä¸»è¦åŒ…æ‹¬ç”¨æˆ·çš„å„é¡¹<strong>è¡Œä¸ºä¿¡æ¯</strong>ä»¥åŠè¡Œä¸ºæ‰€å¤„çš„<strong>ç¯å¢ƒä¿¡æ¯</strong>ã€‚æ”¶é›†è¿™äº›ä¿¡æ¯çš„ä¸»è¦ç›®çš„æ˜¯ä¼˜åŒ–äº§å“å’Œä¸ºå„é¡¹åˆ†æç»Ÿè®¡æŒ‡æ ‡æä¾›æ•°æ®æ”¯æ’‘ã€‚æ”¶é›†è¿™äº›ä¿¡æ¯çš„æ‰‹æ®µé€šå¸¸ä¸º<strong>åŸ‹ç‚¹</strong>ã€‚</p><p>ç›®å‰ä¸»æµçš„åŸ‹ç‚¹æ–¹å¼ï¼Œæœ‰<strong>ä»£ç åŸ‹ç‚¹</strong>ï¼ˆå‰ç«¯/åç«¯ï¼‰ã€<strong>å¯è§†åŒ–åŸ‹ç‚¹</strong>ã€<strong>å…¨åŸ‹ç‚¹</strong>ç­‰ã€‚</p><p><strong>ä»£ç åŸ‹ç‚¹</strong>æ˜¯é€šè¿‡è°ƒç”¨åŸ‹ç‚¹SDKå‡½æ•°ï¼Œåœ¨éœ€è¦åŸ‹ç‚¹çš„ä¸šåŠ¡é€»è¾‘åŠŸèƒ½ä½ç½®è°ƒç”¨æ¥å£ï¼Œä¸ŠæŠ¥åŸ‹ç‚¹æ•°æ®ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯¹é¡µé¢ä¸­çš„æŸä¸ªæŒ‰é’®åŸ‹ç‚¹åï¼Œå½“è¿™ä¸ªæŒ‰é’®è¢«ç‚¹å‡»æ—¶ï¼Œå¯ä»¥åœ¨è¿™ä¸ªæŒ‰é’®å¯¹åº”çš„ OnClick å‡½æ•°é‡Œé¢è°ƒç”¨SDKæä¾›çš„æ•°æ®å‘é€æ¥å£ï¼Œæ¥å‘é€æ•°æ®ã€‚</p><p><strong>å¯è§†åŒ–åŸ‹ç‚¹</strong>åªéœ€è¦ç ”å‘äººå‘˜é›†æˆé‡‡é›† SDKï¼Œä¸éœ€è¦å†™åŸ‹ç‚¹ä»£ç ï¼Œä¸šåŠ¡äººå‘˜å°±å¯ä»¥é€šè¿‡è®¿é—®åˆ†æå¹³å°çš„â€œåœˆé€‰â€åŠŸèƒ½ï¼Œæ¥â€œåœˆâ€å‡ºéœ€è¦å¯¹ç”¨æˆ·è¡Œä¸ºè¿›è¡Œæ•æ‰çš„æ§ä»¶ï¼Œå¹¶å¯¹è¯¥äº‹ä»¶è¿›è¡Œå‘½åã€‚åœˆé€‰å®Œæ¯•åï¼Œè¿™äº›é…ç½®ä¼šåŒæ­¥åˆ°å„ä¸ªç”¨æˆ·çš„ç»ˆç«¯ä¸Šï¼Œç”±é‡‡é›† SDK æŒ‰ç…§åœˆé€‰çš„é…ç½®è‡ªåŠ¨è¿›è¡Œç”¨æˆ·è¡Œä¸ºæ•°æ®çš„é‡‡é›†å’Œå‘é€ã€‚</p><p><strong>å…¨åŸ‹ç‚¹</strong>æ˜¯é€šè¿‡åœ¨äº§å“ä¸­åµŒå…¥SDKï¼Œå‰ç«¯è‡ªåŠ¨é‡‡é›†é¡µé¢ä¸Šçš„å…¨éƒ¨ç”¨æˆ·è¡Œä¸ºäº‹ä»¶ï¼Œä¸ŠæŠ¥åŸ‹ç‚¹æ•°æ®ï¼Œç›¸å½“äºåšäº†ä¸€ä¸ªç»Ÿä¸€çš„åŸ‹ç‚¹ã€‚ç„¶åå†é€šè¿‡ç•Œé¢é…ç½®å“ªäº›æ•°æ®éœ€è¦åœ¨ç³»ç»Ÿé‡Œé¢è¿›è¡Œåˆ†æã€‚</p><h3 id="ç”¨æˆ·è¡Œä¸ºæ—¥å¿—">ç”¨æˆ·è¡Œä¸ºæ—¥å¿—</h3><p>æœ¬é¡¹ç›®æ”¶é›†å’Œåˆ†æçš„ç”¨æˆ·è¡Œä¸ºä¿¡æ¯ä¸»è¦æœ‰<strong>é¡µé¢æµè§ˆè®°å½•ã€åŠ¨ä½œè®°å½•ã€æ›å…‰è®°å½•ã€å¯åŠ¨è®°å½•å’Œé”™è¯¯è®°å½•ã€‚</strong></p><h4 id="é¡µé¢æµè§ˆè®°å½•">é¡µé¢æµè§ˆè®°å½•</h4><p>é¡µé¢æµè§ˆè®°å½•ï¼Œè®°å½•çš„æ˜¯è®¿å®¢å¯¹é¡µé¢çš„æµè§ˆè¡Œä¸ºï¼Œè¯¥è¡Œä¸ºçš„ç¯å¢ƒä¿¡æ¯ä¸»è¦æœ‰ç”¨æˆ·ä¿¡æ¯ã€æ—¶é—´ä¿¡æ¯ã€åœ°ç†ä½ç½®ä¿¡æ¯ã€è®¾å¤‡ä¿¡æ¯ã€åº”ç”¨ä¿¡æ¯ã€æ¸ é“ä¿¡æ¯åŠé¡µé¢ä¿¡æ¯ç­‰ã€‚</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/image-20230309163906378.png"/></div></div><h4 id="åŠ¨ä½œè®°å½•">åŠ¨ä½œè®°å½•</h4><p>åŠ¨ä½œè®°å½•ï¼Œè®°å½•çš„æ˜¯ç”¨æˆ·çš„ä¸šåŠ¡æ“ä½œè¡Œä¸ºï¼Œè¯¥è¡Œä¸ºçš„ç¯å¢ƒä¿¡æ¯ä¸»è¦æœ‰ç”¨æˆ·ä¿¡æ¯ã€æ—¶é—´ä¿¡æ¯ã€åœ°ç†ä½ç½®ä¿¡æ¯ã€è®¾å¤‡ä¿¡æ¯ã€åº”ç”¨ä¿¡æ¯ã€æ¸ é“ä¿¡æ¯ åŠåŠ¨ä½œç›®æ ‡å¯¹è±¡ä¿¡æ¯ç­‰ã€‚</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/image-20230309165638179.png"/></div></div><h4 id="æ›å…‰è®°å½•">æ›å…‰è®°å½•</h4><p>æ›å…‰è®°å½•ï¼Œè®°å½•çš„æ˜¯æ›å…‰è¡Œä¸ºï¼Œè¯¥è¡Œä¸ºçš„ç¯å¢ƒä¿¡æ¯ä¸»è¦æœ‰ç”¨æˆ·ä¿¡æ¯ã€æ—¶é—´ä¿¡æ¯ã€åœ°ç†ä½ç½®ä¿¡æ¯ã€è®¾å¤‡ä¿¡æ¯ã€åº”ç”¨ä¿¡æ¯ã€æ¸ é“ä¿¡æ¯åŠæ›å…‰å¯¹è±¡ä¿¡æ¯ç­‰ã€‚</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/image-20230309165733253.png"/></div></div><h4 id="å¯åŠ¨è®°å½•">å¯åŠ¨è®°å½•</h4><p>å¯åŠ¨è®°å½•ï¼Œè®°å½•çš„æ˜¯ç”¨æˆ·å¯åŠ¨åº”ç”¨çš„è¡Œä¸ºï¼Œè¯¥è¡Œä¸ºçš„ç¯å¢ƒä¿¡æ¯ä¸»è¦æœ‰ç”¨æˆ·ä¿¡æ¯ã€æ—¶é—´ä¿¡æ¯ã€åœ°ç†ä½ç½®ä¿¡æ¯ã€è®¾å¤‡ä¿¡æ¯ã€åº”ç”¨ä¿¡æ¯ã€æ¸ é“ä¿¡æ¯ã€å¯åŠ¨ç±»å‹åŠå¼€å±å¹¿å‘Šä¿¡æ¯ç­‰ã€‚</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/image-20230309165820049.png"/></div></div><h4 id="é”™è¯¯è®°å½•"><strong>é”™è¯¯è®°å½•</strong></h4><p>å¯åŠ¨è®°å½•ï¼Œè®°å½•çš„æ˜¯ç”¨æˆ·åœ¨ä½¿ç”¨åº”ç”¨è¿‡ç¨‹ä¸­çš„æŠ¥é”™è¡Œä¸ºï¼Œè¯¥è¡Œä¸ºçš„ç¯å¢ƒä¿¡æ¯ä¸»è¦æœ‰ç”¨æˆ·ä¿¡æ¯ã€æ—¶é—´ä¿¡æ¯ã€åœ°ç†ä½ç½®ä¿¡æ¯ã€è®¾å¤‡ä¿¡æ¯ã€åº”ç”¨ä¿¡æ¯ã€æ¸ é“ä¿¡æ¯ã€ä»¥åŠå¯èƒ½ä¸æŠ¥é”™ç›¸å…³çš„é¡µé¢ä¿¡æ¯ã€åŠ¨ä½œä¿¡æ¯ã€æ›å…‰ä¿¡æ¯å’ŒåŠ¨ä½œä¿¡æ¯ã€‚</p><h2 id="é›†ç¾¤è½¯ä»¶å®‰è£…">é›†ç¾¤è½¯ä»¶å®‰è£…</h2><h3 id="å‰æå‡†å¤‡">å‰æå‡†å¤‡</h3><p>å‡†å¤‡ä¸‰å°æœºå™¨ï¼Œå¹¶é…ç½®å¥½å…å¯†ç™»å½•</p><h3 id="jdkå®‰è£…">jdkå®‰è£…</h3><p>æŠŠå®‰è£…åŒ…ä¸Šä¼ åˆ°/opt/softwareä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è§£å‹åˆ°/opt/module/ç›®å½•ä¸‹</span></span><br><span class="line">tar -zxvf jdk-8u212-linux-x64.tar.gz -C /opt/module/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥moduleç›®å½•</span></span><br><span class="line">cd /opt/module/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŠŠè§£å‹åçš„åå­—ä¿®æ”¹ä¸ºjdk</span></span><br><span class="line">/opt/module/</span><br></pre></td></tr></table></figure><p>é…ç½®ç¯å¢ƒå˜é‡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ–°å»ºsudo vim /etc/profile.d/my_env.sh</span></span><br><span class="line">sudo vim /etc/profile.d/my_env.sh</span><br></pre></td></tr></table></figure><p>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">JAVA_HOME</span></span><br><span class="line">export JAVA_HOME=/opt/module/jdk</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br></pre></td></tr></table></figure><p>ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile.d/my_env.sh</span><br></pre></td></tr></table></figure><p>ä¸‰å°æœºå™¨éƒ½éœ€è¦å®‰è£…</p><h3 id="é›†ç¾¤æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹è„šæœ¬">é›†ç¾¤æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹è„šæœ¬</h3><p>åœ¨~/binç›®å½•ä¸‹åˆ›å»ºè„šæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim xcall</span><br></pre></td></tr></table></figure><p>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">! /bin/bash</span></span><br><span class="line"> </span><br><span class="line">for i in hadoop102 hadoop103 hadoop104</span><br><span class="line">do</span><br><span class="line">    echo --------- $i ----------</span><br><span class="line">    ssh $i &quot;$*&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æ‰§è¡Œæƒé™</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 xcall</span><br></pre></td></tr></table></figure><p>å¯åŠ¨è„šæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcall jps</span><br></pre></td></tr></table></figure><h3 id="Hadoopéƒ¨ç½²">Hadoopéƒ¨ç½²</h3><h4 id="é›†ç¾¤è§„åˆ’">é›†ç¾¤è§„åˆ’</h4><table><thead><tr><th></th><th>hadoop133</th><th>hadoop134</th><th>hadoop135</th></tr></thead><tbody><tr><td>HDFS</td><td>NameNodeã€DataNode</td><td>DataNode</td><td>SecondaryNameNodeã€DataNode</td></tr><tr><td>YARN</td><td>NodeManager</td><td>ResourceManagerã€NodeManager</td><td>NodeManager</td></tr></tbody></table><h4 id="ä¸Šä¼ å®‰è£…åŒ…">ä¸Šä¼ å®‰è£…åŒ…</h4><p>å°†å®‰è£…åŒ…ä¸Šä¼ åˆ° /opt/software/ç›®å½•ä¸‹</p><h4 id="è§£å‹">è§£å‹</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è§£å‹åˆ°/opt/moudleç›®å½•</span></span><br><span class="line">tar -zxvf hadoop-3.1.3.tar.gz -C /opt/module/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é‡å‘½å</span></span><br><span class="line">mv /opt/module/hadoop-3.1.3 /opt/module/hadoop</span><br></pre></td></tr></table></figure><h4 id="æ·»åŠ ç¯å¢ƒå˜é‡">æ·»åŠ ç¯å¢ƒå˜é‡</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‰“å¼€/etc/profile.d/my_env.shæ–‡ä»¶</span></span><br><span class="line">sudo vim /etc/profile.d/my_env.sh</span><br></pre></td></tr></table></figure><p>è¿½åŠ hadoopè·¯å¾„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">HADOOP_HOME</span></span><br><span class="line">export HADOOP_HOME=/opt/module/hadoop</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/bin</span><br><span class="line">export PATH=$PATH:$HADOOP_HOME/sbin</span><br></pre></td></tr></table></figure><p>ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile.d/my_env.sh</span><br></pre></td></tr></table></figure><h4 id="é…ç½®é›†ç¾¤">é…ç½®é›†ç¾¤</h4><h5 id="é…ç½®core-site-xml">é…ç½®core-site.xml</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd $HADOOP_HOME/etc/hadoop</span><br><span class="line">vim core-site.xml</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml-stylesheet type=<span class="string">&quot;text/xsl&quot;</span> href=<span class="string">&quot;configuration.xsl&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šNameNodeçš„åœ°å€ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.defaultFS<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://hadoop133:8020<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šhadoopæ•°æ®çš„å­˜å‚¨ç›®å½• --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.tmp.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>/opt/module/hadoop/data<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- é…ç½®HDFSç½‘é¡µç™»å½•ä½¿ç”¨çš„é™æ€ç”¨æˆ·ä¸ºatguigu --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.http.staticuser.user<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>atguigu<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- é…ç½®è¯¥atguigu(superUser)å…è®¸é€šè¿‡ä»£ç†è®¿é—®çš„ä¸»æœºèŠ‚ç‚¹ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.atguigu.hosts<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é…ç½®è¯¥atguigu(superUser)å…è®¸é€šè¿‡ä»£ç†ç”¨æˆ·æ‰€å±ç»„ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.atguigu.groups<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é…ç½®è¯¥atguigu(superUser)å…è®¸é€šè¿‡ä»£ç†çš„ç”¨æˆ·--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.proxyuser.atguigu.users<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>*<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="é…ç½®hdfs-site-xml">é…ç½®hdfs-site.xml</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim hdfs-site.xml</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml-stylesheet type=<span class="string">&quot;text/xsl&quot;</span> href=<span class="string">&quot;configuration.xsl&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- nn webç«¯è®¿é—®åœ°å€--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.http-address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop133:9870<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!-- 2nn webç«¯è®¿é—®åœ°å€--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.secondary.http-address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop135:9868<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- æµ‹è¯•ç¯å¢ƒæŒ‡å®šHDFSå‰¯æœ¬çš„æ•°é‡1 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.replication<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>3<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="é…ç½®yarn-site-xml">é…ç½®yarn-site.xml</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim yarn-site.xml</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml-stylesheet type=<span class="string">&quot;text/xsl&quot;</span> href=<span class="string">&quot;configuration.xsl&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šMRèµ°shuffle --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- æŒ‡å®šResourceManagerçš„åœ°å€--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop134<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- ç¯å¢ƒå˜é‡çš„ç»§æ‰¿ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.env-whitelist<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--yarnå•ä¸ªå®¹å™¨å…è®¸åˆ†é…çš„æœ€å¤§æœ€å°å†…å­˜ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.scheduler.minimum-allocation-mb<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>512<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.scheduler.maximum-allocation-mb<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>4096<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- yarnå®¹å™¨å…è®¸ç®¡ç†çš„ç‰©ç†å†…å­˜å¤§å° --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.resource.memory-mb<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>4096<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- å…³é—­yarnå¯¹ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜çš„é™åˆ¶æ£€æŸ¥ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.pmem-check-enabled<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.vmem-check-enabled<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>false<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="é…ç½®mapred-site-xml">é…ç½®mapred-site.xml</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim mapred-site.xml</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml-stylesheet type=<span class="string">&quot;text/xsl&quot;</span> href=<span class="string">&quot;configuration.xsl&quot;</span>?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šMapReduceç¨‹åºè¿è¡Œåœ¨Yarnä¸Š --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="é…ç½®workers">é…ç½®workers</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /opt/module/hadoop/etc/hadoop/workers</span><br></pre></td></tr></table></figure><p>æ·»åŠ é›†ç¾¤ä¿¡æ¯</p><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop133</span><br><span class="line">hadoop134</span><br><span class="line">hadoop135</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šè¯¥æ–‡ä»¶ä¸­æ·»åŠ çš„å†…å®¹ç»“å°¾ä¸å…è®¸æœ‰ç©ºæ ¼ï¼Œæ–‡ä»¶ä¸­ä¸å…è®¸æœ‰ç©ºè¡Œã€‚</strong></p><h5 id="é…ç½®å†å²æœåŠ¡å™¨">é…ç½®å†å²æœåŠ¡å™¨</h5><p>ä¸ºäº†æŸ¥çœ‹ç¨‹åºçš„å†å²è¿è¡Œæƒ…å†µï¼Œéœ€è¦é…ç½®ä¸€ä¸‹å†å²æœåŠ¡å™¨ã€‚å…·ä½“é…ç½®æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>é…ç½®mapred-site.xml</p><p>å¢åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å†å²æœåŠ¡å™¨ç«¯åœ°å€ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.jobhistory.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop133:10020<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å†å²æœåŠ¡å™¨webç«¯åœ°å€ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.jobhistory.webapp.address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop133:19888<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="é…ç½®æ—¥å¿—èšé›†">é…ç½®æ—¥å¿—èšé›†</h5><p>æ—¥å¿—èšé›†æ¦‚å¿µï¼šåº”ç”¨è¿è¡Œå®Œæˆä»¥åï¼Œå°†ç¨‹åºè¿è¡Œæ—¥å¿—ä¿¡æ¯ä¸Šä¼ åˆ°HDFSç³»ç»Ÿä¸Šã€‚</p><p>æ—¥å¿—èšé›†åŠŸèƒ½å¥½å¤„ï¼šå¯ä»¥æ–¹ä¾¿çš„æŸ¥çœ‹åˆ°ç¨‹åºè¿è¡Œè¯¦æƒ…ï¼Œæ–¹ä¾¿å¼€å‘è°ƒè¯•ã€‚</p><p><strong>æ³¨æ„ï¼šå¼€å¯æ—¥å¿—èšé›†åŠŸèƒ½ï¼Œéœ€è¦é‡æ–°å¯åŠ¨NodeManager ã€ResourceManagerå’ŒHistoryManagerã€‚</strong></p><p>é…ç½®yarn-site.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å¼€å¯æ—¥å¿—èšé›†åŠŸèƒ½ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.log-aggregation-enable<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- è®¾ç½®æ—¥å¿—èšé›†æœåŠ¡å™¨åœ°å€ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.log.server.url<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>http://hadoop133:19888/jobhistory/logs<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- è®¾ç½®æ—¥å¿—ä¿ç•™æ—¶é—´ä¸º7å¤© --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.log-aggregation.retain-seconds<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>604800<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å¯åŠ¨é›†ç¾¤">å¯åŠ¨é›†ç¾¤</h4><p>å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å¯åŠ¨ï¼Œéœ€è¦å…ˆæ ¼å¼åŒ–NameNodeï¼ˆæ³¨æ„æ ¼å¼åŒ–ä¹‹å‰ï¼Œä¸€å®šè¦å…ˆåœæ­¢ä¸Šæ¬¡å¯åŠ¨çš„æ‰€æœ‰namenodeå’Œdatanodeè¿›ç¨‹ï¼Œç„¶åå†åˆ é™¤dataå’Œlogæ•°æ®ï¼‰</p><h5 id="æ ¼å¼åŒ–NameNode">æ ¼å¼åŒ–NameNode</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="variable">$hadoop_home</span>ä¸‹æ‰§è¡Œ</span></span><br><span class="line">bin/hdfs namenode -format</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/1.jpg"/></div></div><p>å‡ºç°ä»¥ä¸Šæ—¥å¿—è¡¨ç¤ºæ ¼å¼åŒ–æˆåŠŸ</p><h5 id="å¯åŠ¨HDFS">å¯åŠ¨HDFS</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sbin/start-dfs.sh</span><br></pre></td></tr></table></figure><h5 id="å¯åŠ¨YARN">å¯åŠ¨YARN</h5><p>ResourceManageræ˜¯éƒ¨ç½²åœ¨hadoop134ä¸Šé¢çš„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sbin/start-yarn.sh</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨å„ä¸ªæœåŠ¡å™¨ä¸ŠæŸ¥çœ‹ä¸€ä¸‹jps</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/2.jpg"/></div></div><p>æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªDateNodeå’ŒNodeManagerï¼Œç„¶åNameNodeã€ResourceManagerã€SecondaryNameNodeæ¯ä¸ªèŠ‚ç‚¹ä¸€ä¸ª</p><h4 id="é›†ç¾¤è„šæœ¬">é›†ç¾¤è„šæœ¬</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/bin</span><br><span class="line"></span><br><span class="line">vim hdp.sh</span><br></pre></td></tr></table></figure><p>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">if [ $# -lt 1 ]</span><br><span class="line">then</span><br><span class="line">    echo &quot;No Args Input...&quot;</span><br><span class="line">    exit ;</span><br><span class="line">fi</span><br><span class="line">case $1 in</span><br><span class="line">&quot;start&quot;)</span><br><span class="line">        echo &quot; =================== å¯åŠ¨ hadoopé›†ç¾¤ ===================&quot;</span><br><span class="line"></span><br><span class="line">        echo &quot; --------------- å¯åŠ¨ hdfs ---------------&quot;</span><br><span class="line">        ssh hadoop102 &quot;/opt/module/hadoop/sbin/start-dfs.sh&quot;</span><br><span class="line">        echo &quot; --------------- å¯åŠ¨ yarn ---------------&quot;</span><br><span class="line">        ssh hadoop103 &quot;/opt/module/hadoop/sbin/start-yarn.sh&quot;</span><br><span class="line">        echo &quot; --------------- å¯åŠ¨ historyserver ---------------&quot;</span><br><span class="line">        ssh hadoop102 &quot;/opt/module/hadoop/bin/mapred --daemon start historyserver&quot;</span><br><span class="line">;;</span><br><span class="line">&quot;stop&quot;)</span><br><span class="line">        echo &quot; =================== å…³é—­ hadoopé›†ç¾¤ ===================&quot;</span><br><span class="line"></span><br><span class="line">        echo &quot; --------------- å…³é—­ historyserver ---------------&quot;</span><br><span class="line">        ssh hadoop102 &quot;/opt/module/hadoop/bin/mapred --daemon stop historyserver&quot;</span><br><span class="line">        echo &quot; --------------- å…³é—­ yarn ---------------&quot;</span><br><span class="line">        ssh hadoop103 &quot;/opt/module/hadoop/sbin/stop-yarn.sh&quot;</span><br><span class="line">        echo &quot; --------------- å…³é—­ hdfs ---------------&quot;</span><br><span class="line">        ssh hadoop102 &quot;/opt/module/hadoop/sbin/stop-dfs.sh&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">    echo &quot;Input Args Error...&quot;</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹è„šæœ¬æƒé™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 hdp.sh</span><br></pre></td></tr></table></figure><h3 id="Zookeperéƒ¨ç½²">Zookeperéƒ¨ç½²</h3><h4 id="é›†ç¾¤è§„åˆ’-2">é›†ç¾¤è§„åˆ’</h4><p>æ¯ä¸ªèŠ‚ç‚¹éƒ½éƒ¨ç½²ä¸€ä¸ªZookeeperå³å¯</p><h4 id="è§£å‹å®‰è£…">è§£å‹å®‰è£…</h4><p>æŠŠå®‰è£…åŒ…ä¸Šä¼ åˆ°/opt/softwareç›®å½•ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è§£å‹åˆ°/opt/moduleä¸‹</span></span><br><span class="line">tar -zxvf apache-zookeeper-3.5.7-bin.tar.gz -C /opt/module/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹åç§°ä¸ºzookeeper</span></span><br><span class="line">mv apache-zookeeper-3.5.7-bin/ zookeeper</span><br></pre></td></tr></table></figure><h4 id="é…ç½®æœåŠ¡å™¨ç¼–å·">é…ç½®æœåŠ¡å™¨ç¼–å·</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åœ¨zookeeperç›®å½•ä¸‹åˆ›å»ºzkData</span></span><br><span class="line">mkdir zkData</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åœ¨zkDataç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªmyidçš„æ–‡ä»¶</span></span><br><span class="line">vim myid</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä¸serverå¯¹åº”çš„ç¼–å·ï¼š</span></span><br><span class="line">3</span><br></pre></td></tr></table></figure><h4 id="é…ç½®zoo-cfg">é…ç½®zoo.cfg</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é‡å‘½å/opt/module/zookeeper-3.5.7/confè¿™ä¸ªç›®å½•ä¸‹çš„zoo_sample.cfgä¸ºzoo.cfg</span></span><br><span class="line">mv zoo_sample.cfg zoo.cfg</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹zoo.cfgæ–‡ä»¶</span></span><br><span class="line">vim zoo.cfg</span><br></pre></td></tr></table></figure><p>zoo.cfgä¿®æ”¹å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹æ•°æ®å­˜å‚¨è·¯å¾„é…ç½®</span></span><br><span class="line">/opt/module/zookeeper/zkData</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">######################cluster##########################</span></span></span><br><span class="line">server.3=hadoop133:2888:3888</span><br><span class="line">server.4=hadoop134:2888:3888</span><br><span class="line">server.5=hadoop135:2888:3888</span><br></pre></td></tr></table></figure><h4 id="é›†ç¾¤å¯åœè„šæœ¬">é›†ç¾¤å¯åœè„šæœ¬</h4><p>åœ¨hadoop133æœºå™¨ä¸Šåˆ›å»ºè„šæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥~/bin</span></span><br><span class="line">cd ~/bin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ›å»ºzk.sh</span></span><br><span class="line">vim zk.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ·»åŠ å¦‚ä¸‹å†…å®¹</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">&quot;start&quot;)&#123;</span><br><span class="line">for i in hadoop102 hadoop103 hadoop104</span><br><span class="line">do</span><br><span class="line">        echo ---------- zookeeper $i å¯åŠ¨ ------------</span><br><span class="line">ssh $i &quot;/opt/module/zookeeper/bin/zkServer.sh start&quot;</span><br><span class="line">done</span><br><span class="line">&#125;;;</span><br><span class="line">&quot;stop&quot;)&#123;</span><br><span class="line">for i in hadoop102 hadoop103 hadoop104</span><br><span class="line">do</span><br><span class="line">        echo ---------- zookeeper $i åœæ­¢ ------------    </span><br><span class="line">ssh $i &quot;/opt/module/zookeeper/bin/zkServer.sh stop&quot;</span><br><span class="line">done</span><br><span class="line">&#125;;;</span><br><span class="line">&quot;status&quot;)&#123;</span><br><span class="line">for i in hadoop102 hadoop103 hadoop104</span><br><span class="line">do</span><br><span class="line">        echo ---------- zookeeper $i çŠ¶æ€ ------------    </span><br><span class="line">ssh $i &quot;/opt/module/zookeeper/bin/zkServer.sh status&quot;</span><br><span class="line">done</span><br><span class="line">&#125;;;</span><br><span class="line">esac</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¢åŠ è„šæœ¬æ‰§è¡Œæƒé™</span></span><br><span class="line">chmod 777 zk.sh</span><br></pre></td></tr></table></figure><h3 id="Kafkaéƒ¨ç½²">Kafkaéƒ¨ç½²</h3><h4 id="é›†ç¾¤è§„åˆ’-3">é›†ç¾¤è§„åˆ’</h4><p>æ¯ä¸ªèŠ‚ç‚¹ä¸€ä¸ªå³å¯</p><h4 id="è§£å‹å®‰è£…-2">è§£å‹å®‰è£…</h4><p>æŠŠå®‰è£…åŒ…ä¸Šä¼ åˆ°/opt/softwareç›®å½•ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è§£å‹åˆ°/opt/module</span></span><br><span class="line">tar -zxvf kafka_2.12-3.0.0.tgz -C /opt/module/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é‡å‘½å</span></span><br><span class="line">mv kafka_2.12-3.0.0/ kafka</span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹é…ç½®">ä¿®æ”¹é…ç½®</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥kafkaç›®å½•</span></span><br><span class="line">cd config/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹server.propertiesæ–‡ä»¶</span></span><br><span class="line">vim server.properties</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">broker.id=0</span><br><span class="line">log.dirs=/opt/module/kafka/datas</span><br><span class="line">zookeeper.connect=hadoop133:2181,hadoop134:2181,hadoop135:2181/kafka</span><br></pre></td></tr></table></figure><h4 id="é…ç½®ç¯å¢ƒå˜é‡">é…ç½®ç¯å¢ƒå˜é‡</h4><p>åœ¨/etc/profile.d/my_env.shæ–‡ä»¶ä¸­å¢åŠ kafkaç¯å¢ƒå˜é‡é…ç½®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/profile.d/my_env.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¢åŠ å¦‚ä¸‹å†…å®¹</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">KAFKA_HOME</span></span><br><span class="line">export KAFKA_HOME=/opt/module/kafka</span><br><span class="line">export PATH=$PATH:$KAFKA_HOME/bin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç„¶ååº”ç”¨ç”Ÿæ•ˆ</span></span><br><span class="line">source /etc/profile.d/my_env.sh</span><br></pre></td></tr></table></figure><h4 id="é›†ç¾¤å¯åœè„šæœ¬-2">é›†ç¾¤å¯åœè„šæœ¬</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">cd ~/bin</span><br><span class="line"></span><br><span class="line">vim kf.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è„šæœ¬å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">! /bin/bash</span></span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">&quot;start&quot;)&#123;</span><br><span class="line">    for i in hadoop133 hadoop134 hadoop135</span><br><span class="line">    do</span><br><span class="line">        echo &quot; --------å¯åŠ¨ $i Kafka-------&quot;</span><br><span class="line">        ssh $i &quot;/opt/module/kafka/bin/kafka-server-start.sh -daemon /opt/module/kafka/config/server.properties&quot;</span><br><span class="line">    done</span><br><span class="line">&#125;;;</span><br><span class="line">&quot;stop&quot;)&#123;</span><br><span class="line">    for i in hadoop133 hadoop134 hadoop135</span><br><span class="line">    do</span><br><span class="line">        echo &quot; --------åœæ­¢ $i Kafka-------&quot;</span><br><span class="line">        ssh $i &quot;/opt/module/kafka/bin/kafka-server-stop.sh &quot;</span><br><span class="line">    done</span><br><span class="line">&#125;;;</span><br><span class="line">esac</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ·»åŠ æ‰§è¡Œæƒé™</span></span><br><span class="line">chmod +x kf.sh</span><br></pre></td></tr></table></figure><h3 id="Flumeéƒ¨ç½²">Flumeéƒ¨ç½²</h3><h4 id="è§£å‹å®‰è£…-3">è§£å‹å®‰è£…</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è§£å‹</span></span><br><span class="line">tar -zxf /opt/software/apache-flume-1.9.0-bin.tar.gz -C /opt/module/</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹åç§°</span></span><br><span class="line">mv /opt/module/apache-flume-1.9.0-bin /opt/module/flume</span><br></pre></td></tr></table></figure><h4 id="è§£å†³jaråŒ…å†²çª">è§£å†³jaråŒ…å†²çª</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm /opt/module/flume/lib/guava-11.0.2.jar</span><br></pre></td></tr></table></figure><h3 id="æ—¥å¿—é‡‡é›†Flume">æ—¥å¿—é‡‡é›†Flume</h3><p>æŒ‰ç…§è§„åˆ’ï¼Œéœ€è¦é‡‡é›†çš„ç”¨æˆ·è¡Œä¸ºæ—¥å¿—æ–‡ä»¶åˆ†å¸ƒåœ¨hadoop102ï¼Œhadoop103ä¸¤å°æ—¥å¿—æœåŠ¡å™¨ï¼Œæ•…éœ€è¦åœ¨hadoop102ï¼Œhadoop103ä¸¤å°èŠ‚ç‚¹é…ç½®æ—¥å¿—é‡‡é›†Flumeã€‚æ—¥å¿—é‡‡é›†Flumeéœ€è¦é‡‡é›†æ—¥å¿—æ–‡ä»¶å†…å®¹ï¼Œå¹¶å¯¹æ—¥å¿—æ ¼å¼ï¼ˆJSONï¼‰è¿›è¡Œæ ¡éªŒï¼Œç„¶åå°†æ ¡éªŒé€šè¿‡çš„æ—¥å¿—å‘é€åˆ°Kafkaã€‚<br>æ­¤å¤„å¯ä»¥é€‰æ‹©TailDirSourceå’ŒKafkaChannelï¼Œå¹¶é…ç½®æ—¥å¿—æ ¡éªŒæ‹¦æˆªå™¨ã€‚<br>é€‰æ‹©TailSourceå’ŒKafkaChannelçš„åŸå› å¦‚ä¸‹ï¼š</p><p><strong>â‘ TailDirSource</strong><br>TailDirSourceç›¸æ¯”ExecSourceã€SpoolingDirectorySourceçš„ä¼˜åŠ¿</p><blockquote><p>TailDirSourceï¼šæ–­ç”µç»­ä¼ ã€å¤šç›®å½•ã€‚Flume1.6ä»¥å‰éœ€è¦è‡ªå·±å®šä¹‰Sourceè®°å½•æ¯æ¬¡è¯»å–æ–‡ä»¶ä½ç½®ï¼Œå®ç°æ–­ç‚¹ç»­ä¼ ã€‚</p><p>EXECSourceï¼šå¯ä»¥å®æ—¶æœé›†æ•°æ®ï¼Œä½†æ˜¯å†Flumeä¸è¿è¡Œæˆ–è€…Shellå‘½ä»¤å‡ºé”™çš„æƒ…å†µä¸‹ï¼Œæ•°æ®ä¼šä¸¢å¤±</p><p>SpoolingDirectorySourceï¼šç›‘æ§ç›®å½•ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ </p></blockquote><p><strong>â‘¡KafkaChannel</strong></p><p>é‡‡ç”¨KafkaChannelï¼Œçœå»äº†Sinkï¼Œæé«˜äº†æ•ˆç‡</p><p>æ—¥å¿—é‡‡é›†Flumeé…ç½®ï¼š</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/3.jpg"/></div></div><h4 id="æ—¥å¿—é‡‡é›†é…ç½®å®æ“">æ—¥å¿—é‡‡é›†é…ç½®å®æ“</h4><p><strong>â‘ åˆ›å»ºFlumeé…ç½®æ–‡ä»¶</strong></p><p>åœ¨flumeç›®å½•ä¸‹åˆ›å»ºjobæ–‡ä»¶å¤¹ï¼Œå¹¶åˆ›å»ºé…ç½®æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir job</span><br><span class="line"></span><br><span class="line">vim job/file_to_kafka.conf</span><br></pre></td></tr></table></figure><p><strong>â‘¡é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#å®šä¹‰ç»„ä»¶</span><br><span class="line">a1.sources = r1</span><br><span class="line">a1.channels = c1</span><br><span class="line"></span><br><span class="line">#é…ç½®source</span><br><span class="line">a1.sources.r1.type = TAILDIR</span><br><span class="line">a1.sources.r1.filegroups = f1</span><br><span class="line">a1.sources.r1.filegroups.f1 = /opt/module/applog/log/app.*</span><br><span class="line">a1.sources.r1.positionFile = /opt/module/flume/taildir_position.json</span><br><span class="line">a1.sources.r1.interceptors =  i1</span><br><span class="line">a1.sources.r1.interceptors.i1.type = com.atguigu.gmall.flume.interceptor.ETLInterceptor$Builder</span><br><span class="line"></span><br><span class="line">#é…ç½®channel</span><br><span class="line">a1.channels.c1.type = org.apache.flume.channel.kafka.KafkaChannel</span><br><span class="line">a1.channels.c1.kafka.bootstrap.servers=hadoop102:9092,hadoop103:9092</span><br><span class="line">a1.channels.c1.kafka.topic = topic_log</span><br><span class="line">a1.channels.c1.parseAsFlumeEvent = false</span><br><span class="line"></span><br><span class="line">#ç»„è£… </span><br><span class="line">a1.sources.r1.channels = c1</span><br></pre></td></tr></table></figure><p><strong>â‘¢ç¼–å†™Flumeæ‹¦æˆªå™¨</strong></p><p>pomä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flume<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flume-ng-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.62<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-assembly-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">descriptorRef</span>&gt;</span>jar-with-dependencies<span class="tag">&lt;/<span class="name">descriptorRef</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">descriptorRefs</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">id</span>&gt;</span>make-assembly<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goal</span>&gt;</span>single<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>â‘£JSONUtilç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.gmall.flume.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONObject;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JSONUtil</span> &#123;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* é€šè¿‡å¼‚å¸¸åˆ¤æ–­æ˜¯å¦æ˜¯jsonå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">* æ˜¯ï¼šè¿”å›true  ä¸æ˜¯ï¼šè¿”å›false</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isJSONValidate</span><span class="params">(String log)</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            JSONObject.parseObject(log);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (JSONException e)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>â‘¤ETLInterceptorç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.gmall.flume.interceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.gmall.flume.utils.JSONUtil;</span><br><span class="line"><span class="keyword">import</span> org.apache.flume.Context;</span><br><span class="line"><span class="keyword">import</span> org.apache.flume.Event;</span><br><span class="line"><span class="keyword">import</span> org.apache.flume.interceptor.Interceptor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ETLInterceptor</span> <span class="keyword">implements</span> <span class="title class_">Interceptor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initialize</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Event <span class="title function_">intercept</span><span class="params">(Event event)</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1ã€è·å–bodyå½“ä¸­çš„æ•°æ®å¹¶è½¬æˆå­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="type">byte</span>[] body = event.getBody();</span><br><span class="line">        <span class="type">String</span> <span class="variable">log</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(body, StandardCharsets.UTF_8);</span><br><span class="line"><span class="comment">//2ã€åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä¸€ä¸ªåˆæ³•çš„jsonï¼Œæ˜¯ï¼šè¿”å›å½“å‰eventï¼›ä¸æ˜¯ï¼šè¿”å›null</span></span><br><span class="line">        <span class="keyword">if</span> (JSONUtil.isJSONValidate(log)) &#123;</span><br><span class="line">            <span class="keyword">return</span> event;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Event&gt; <span class="title function_">intercept</span><span class="params">(List&lt;Event&gt; list)</span> &#123;</span><br><span class="line"></span><br><span class="line">        Iterator&lt;Event&gt; iterator = list.iterator();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            <span class="type">Event</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            <span class="keyword">if</span>(intercept(next)==<span class="literal">null</span>)&#123;</span><br><span class="line">                iterator.remove();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Builder</span> <span class="keyword">implements</span> <span class="title class_">Interceptor</span>.Builder&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Interceptor <span class="title function_">build</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ETLInterceptor</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">configure</span><span class="params">(Context context)</span> &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>â‘¥æ‰“åŒ…</strong><br>å°†æ‰“å¥½çš„åŒ…æ”¾åˆ°flume/libæ–‡ä»¶å¤¹ä¸‹é¢</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°ä¸€/4jpg"/></div></div><h4 id="æ—¥å¿—é‡‡é›†æµ‹è¯•">æ—¥å¿—é‡‡é›†æµ‹è¯•</h4><p><strong>â‘ å¯åŠ¨Flume</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/flume-ng agent -n a1 -c conf/ -f job/file_to_kafka.conf -Dflume.root.logger=info,console</span><br></pre></td></tr></table></figure><p><strong>â‘¡å¯åŠ¨KafkaConsumer</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-console-consumer.sh --bootstrap-server hadoop133:9092 --topic topic_log</span><br></pre></td></tr></table></figure><h4 id="Flumeå¯åœè„šæœ¬">Flumeå¯åœè„šæœ¬</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">&quot;start&quot;)&#123;</span><br><span class="line">        for i in hadoop102 hadoop103</span><br><span class="line">        do</span><br><span class="line">                echo &quot; --------å¯åŠ¨ $i é‡‡é›†flume-------&quot;</span><br><span class="line">                ssh $i &quot;nohup /opt/module/flume/bin/flume-ng agent -n a1 -c /opt/module/flume/conf/ -f /opt/module/flume/job/file_to_kafka.conf &gt;/dev/null 2&gt;&amp;1 &amp;&quot;</span><br><span class="line">        done</span><br><span class="line">&#125;;; </span><br><span class="line">&quot;stop&quot;)&#123;</span><br><span class="line">        for i in hadoop102 hadoop103</span><br><span class="line">        do</span><br><span class="line">                echo &quot; --------åœæ­¢ $i é‡‡é›†flume-------&quot;</span><br><span class="line">                ssh $i &quot;ps -ef | grep file_to_kafka | grep -v grep |awk  &#x27;&#123;print \$2&#125;&#x27; | xargs -n1 kill -9 &quot;</span><br><span class="line">        done</span><br><span class="line"></span><br><span class="line">&#125;;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¢åŠ è„šæœ¬æ‰§è¡Œæƒé™</span></span><br><span class="line">chmod 777 f1.sh</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">å°šç¡…è°·æ•°æ®ä»“åº“å­¦ä¹ ç¬”è®°</summary>
    
    
    
    <category term="å¤§æ•°æ®" scheme="https://codegao.cc/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
    
    <category term="æ•°æ®ä»“åº“" scheme="https://codegao.cc/tags/%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>Centosè¿æ¥Wifi</title>
    <link href="https://codegao.cc/posts/f9433905.html"/>
    <id>https://codegao.cc/posts/f9433905.html</id>
    <published>2023-02-22T05:47:00.000Z</published>
    <updated>2023-03-22T05:42:07.730Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ç¯å¢ƒ">ç¯å¢ƒ</h3><p>Linuxç‰ˆæœ¬ä¸ºCentos7.8</p><h3 id="æŸ¥çœ‹ç½‘å¡çŠ¶æ€">æŸ¥çœ‹ç½‘å¡çŠ¶æ€</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ç½‘å¡çŠ¶æ€</span></span><br><span class="line">ip addr</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/Centosè¿æ¥Wifi/image-20230302135748316.png"/></div></div><p>å¦‚æœæ²¡æœ‰å‡ºç° UP è¯´æ˜ä½ çš„ç½‘å¡æ²¡æœ‰æ¿€æ´»</p><h3 id="æ¿€æ´»ç½‘å¡">æ¿€æ´»ç½‘å¡</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip link set ç½‘å¡åç§° up</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œæˆ‘ä¸Šé¢è¦æ¿€æ´»wlp4s0 è¿™ä¸ªç½‘å¡</p><p>é‚£æˆ‘çš„å‘½ä»¤å°±æ˜¯ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip link set wlp4s0 up</span><br></pre></td></tr></table></figure><p>ä¸€å®šè¦çœ‹åˆ°UPæ‰ç®—æ¿€æ´»æˆåŠŸï¼</p><h3 id="è¿æ¥Wifi">è¿æ¥Wifi</h3><p>ç”±äºæˆ‘ä»¬ç°åœ¨çš„wifiæ˜¯ä½¿ç”¨WPAå’ŒWPA2åŠ å¯†çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨wpa_supplicantæ¥è¿æ¥ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç”Ÿæˆwpa_passphraseé…ç½®æ–‡ä»¶</span></span><br><span class="line">wpa_passphrase wifiName password &gt; /etc/wpa_supplicant.conf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿æ¥Wifi</span></span><br><span class="line">/usr/sbin/wpa_supplicant -B -Dwext -iwlp4s0 -c/etc/wpa_supplicant.conf</span><br></pre></td></tr></table></figure><h3 id="åˆ†é…IP">åˆ†é…IP</h3><p>è¿æ¥å¥½Wifiä¹‹åå¹¶ä¸èƒ½è®¿é—®ç½‘ç»œï¼Œå› ä¸ºè¿˜æ²¡æœ‰åˆ†é…ipï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨åˆ†é…ip</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dhclient ç½‘å¡åç§° &amp;</span><br></pre></td></tr></table></figure><h3 id="å›ºå®šIP">å›ºå®šIP</h3><p>å¦‚æœè¦ä½¿ç”¨å›ºå®šIPå°±ä¸èƒ½ç”¨dhclientå‘½ä»¤äº†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŒ‡å®šipå’Œå­ç½‘æ©ç </span></span><br><span class="line">ifconfig $networkCardName ip netmask å­ç½‘æ©ç </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŒ‡å®šç½‘å…³</span></span><br><span class="line">route add default gw ç½‘å…³åœ°å€</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸çŸ¥é“ç½‘å…³ç­‰çš„ä¿¡æ¯å¯ä»¥å…ˆæŸ¥çœ‹dhclientåˆ†é…çš„ç½‘ç»œä¿¡æ¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /var/lib/dhclient/dhclient.leases </span><br></pre></td></tr></table></figure><p>ç»è¿‡ä»¥ä¸Šæ­¥éª¤æˆ‘ä»¬å°±å¯ä»¥è”ç½‘å•¦ï¼</p><h3 id="æ·»åŠ å¼€æœºè‡ªå¯åŠ¨è„šæœ¬">æ·»åŠ å¼€æœºè‡ªå¯åŠ¨è„šæœ¬</h3><p>è‡ªå¯åŠ¨è„šæœ¬ä¹Ÿæœ‰å¾ˆå¤šç§æ–¹å¼æ·»åŠ ï¼Œæˆ‘è¿™é‡Œé‡‡ç”¨init.dçš„æ–¹å¼</p><p>é¦–å…ˆéœ€è¦åˆ›å»ºè„šæœ¬ï¼š<a href="http://wifiBoot.sh">wifiBoot.sh</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">chkconfig: 2345 80 90</span></span><br><span class="line">    #description:auto_run</span><br><span class="line">networkCardName=&#x27;wlp4s0&#x27;</span><br><span class="line">wifiName=&#x27;wifiName&#x27;</span><br><span class="line">wifiPassword=&#x27;password&#x27;</span><br><span class="line"></span><br><span class="line">ip link set $wifiname up</span><br><span class="line"></span><br><span class="line">sleep 1 </span><br><span class="line"></span><br><span class="line">wpa_passphrase $wifiName $wifiPassword &gt; /etc/wpa_supplicant.conf</span><br><span class="line"></span><br><span class="line">/usr/sbin/wpa_supplicant -B -Dwext -i$networkCardName -c/etc/wpa_supplicant.conf &amp;</span><br><span class="line"></span><br><span class="line">sleep 3 </span><br><span class="line"></span><br><span class="line">dhclient $networkCardName &amp;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ·»åŠ åˆ°è‡ªå¯åŠ¨é¡¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è„šæœ¬ç§»åŠ¨åˆ°init.dç›®å½•ä¸‹</span></span><br><span class="line">mv  /opt/wifiBoot.sh /etc/rc.d/init.d</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¿®æ”¹æƒé™</span></span><br><span class="line">chmod +x  /etc/rc.d/init.d/wifiBoot.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¿›å…¥init.dç›®å½•</span></span><br><span class="line">cd /etc/rc.d/init.d</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åŠ å…¥å¯åŠ¨ç®¡ç†åˆ—è¡¨</span></span><br><span class="line">chkconfig --add wifiBoot.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¼€æœºè‡ªå¯åŠ¨</span></span><br><span class="line">chkconfig wifiBoot.sh on</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ å¯åŠ¨é¡¹æŠ¥é”™ï¼šæœåŠ¡ä¸æ”¯æŒ-chkconfig">æ·»åŠ å¯åŠ¨é¡¹æŠ¥é”™ï¼šæœåŠ¡ä¸æ”¯æŒ chkconfig</h3><p>è„šæœ¬å¼€å¤´è¦æ·»åŠ è¿™ä¸‰è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">chkconfig: 2345 80 90</span></span><br><span class="line">    #description:auto_run</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€è¡Œï¼Œå‘Šè¯‰ç³»ç»Ÿä½¿ç”¨çš„shellè„šæœ¬</p><p>ç¬¬ äºŒè¡Œï¼Œchkconfigåé¢æœ‰ä¸‰ä¸ªå‚æ•°2345,80å’Œ90å‘Šè¯‰chkconfigç¨‹åºï¼Œéœ€è¦åœ¨rc2.d~rc5.dç›®å½•ä¸‹ï¼Œåˆ›å»ºåå­—ä¸º S80auto_runçš„æ–‡ä»¶è¿æ¥ï¼Œè¿æ¥åˆ°/etc/rc.d/init.dç›®å½•ä¸‹çš„çš„auto_runè„šæœ¬</p>]]></content>
    
    
    <summary type="html">Centos7è¿æ¥Wifiå¹¶é…ç½®å¼€æœºå¯åŠ¨</summary>
    
    
    
    <category term="æœåŠ¡å™¨" scheme="https://codegao.cc/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
    <category term="Linux" scheme="https://codegao.cc/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Centos7å®‰è£…wireless-tools</title>
    <link href="https://codegao.cc/posts/62e5e3bd.html"/>
    <id>https://codegao.cc/posts/62e5e3bd.html</id>
    <published>2023-02-20T05:33:00.000Z</published>
    <updated>2023-03-13T06:18:39.747Z</updated>
    
    <content type="html"><![CDATA[<p>Linuxç³»ç»Ÿé»˜è®¤æ²¡æœ‰æ— çº¿ç½‘ç»œå·¥å…·åŒ…wireless-toolsï¼Œrootä¸‹yum install wireless-toolsï¼Œæ˜¾ç¤ºæ²¡æœ‰æ­¤å®‰è£…åŒ…ï¼Œåæ¥å‘ç°åªèƒ½æ‰‹åŠ¨å®‰è£…ã€‚</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html">https://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/Tools.html</a></p><h4 id="ä¾èµ–å‡†å¤‡">ä¾èµ–å‡†å¤‡</h4><p>wireless-toolséœ€è¦makeå’Œgccï¼Œæ²¡æœ‰çš„éœ€è¦å…ˆå®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install make gcc automake</span><br></pre></td></tr></table></figure><h4 id="å®‰è£…">å®‰è£…</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å…ˆè§£å‹</span></span><br><span class="line">tar -xzvf wireless-tools.29.tar.gz</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®‰è£…å¥½åæç¤ºï¼š</p><p><code>Don't forget to add /usr/local/lib/ to /etc/ld.so.conf, and run ldconfig as root.</code></p><p>æˆ‘ä»¬éœ€è¦å°†/usr/local/lib/æ·»åŠ åˆ°/etc/ld.so.confæ–‡ä»¶ä¸‹ï¼Œç„¶årootä¸‹ldconfigè¿è¡Œä¸€ä¸‹å°±å¯ä»¥äº†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;/usr/local/lib&quot; &gt;&gt; /etc/ld.so.conf</span><br><span class="line"></span><br><span class="line">ldconfig</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">wireless-toolsåœ¨Linuxä¸‹çš„å®‰è£…</summary>
    
    
    
    <category term="æœåŠ¡å™¨" scheme="https://codegao.cc/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
    <category term="Linux" scheme="https://codegao.cc/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>hiveæ•´åˆiceberg</title>
    <link href="https://codegao.cc/posts/ca5a12a0.html"/>
    <id>https://codegao.cc/posts/ca5a12a0.html</id>
    <published>2023-02-20T05:33:00.000Z</published>
    <updated>2023-03-13T06:34:59.813Z</updated>
    
    <content type="html"><![CDATA[<h3 id="åœ¨Hiveä¸­æ·»åŠ icebergçš„jaråŒ…">åœ¨Hiveä¸­æ·»åŠ icebergçš„jaråŒ…</h3><p>éœ€è¦ä¸¤ä¸ªjaråŒ…<code>iceberg-hive-runtime-1.1.0.jar</code>å’Œ<code>libfb303-0.9.3.jar</code></p><p>åœ¨apacheå®˜ç½‘å¯ä»¥ä¸‹è½½åˆ°<code>iceberg-hive-runtime-1.1.0.jar</code>ï¼š<a href="https://iceberg.apache.org/releases/">https://iceberg.apache.org/releases/</a></p><p>åœ¨ä¸­å¤®ä»“åº“å¯ä»¥ä¸‹è½½åˆ°<code>libfb303-0.9.3.jar</code>ï¼š<a href="https://repo1.maven.org/maven2/org/apache/thrift/libfb303/0.9.3/">https://repo1.maven.org/maven2/org/apache/thrift/libfb303/0.9.3/</a></p><p>ä¸‹è½½å¥½åæ·»åŠ åˆ°æœåŠ¡å™¨ä¸Šçš„<code>&#123;HIVE_HOME&#125;/lib</code>ä¸‹</p><h3 id="ä¿®æ”¹é…ç½®">ä¿®æ”¹é…ç½®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi &#123;HIVE_HOME&#125;/conf/hive-site.xml</span><br></pre></td></tr></table></figure><p>æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>iceberg.engine.hive.enabled<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åå¯åŠ¨hiveå°±å¯ä»¥äº†</p><h3 id="hiveæ“ä½œicebergè¡¨">hiveæ“ä½œicebergè¡¨</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_iceberg_tbl(</span><br><span class="line">id <span class="type">int</span>,</span><br><span class="line">name string,</span><br><span class="line">age <span class="type">int</span></span><br><span class="line">) partitioned <span class="keyword">by</span> (dt string)</span><br><span class="line">stored <span class="keyword">by</span> <span class="string">&#x27;org.apache.iceberg.mr.hive.HiveIcebergStorageHandler&#x27;</span>;</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/hiveæ•´åˆiceberg/image-20230217142314070.png"/></div></div><p>å‡ºç°OKï¼Œè¯´æ˜åˆ›å»ºæˆåŠŸ</p><h3 id="æ·»åŠ jaråŒ…">æ·»åŠ jaråŒ…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">add jar /opt/cloudera/parcels/CDH/lib/hive/lib/iceberg-hive-runtime-1.1.0.jar;</span><br><span class="line">add jar /opt/cloudera/parcels/CDH/lib/hive/lib/libfb303-0.9.3.jar;</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/hiveæ•´åˆiceberg/image-20230217143338230.png"/></div></div><p>æ·»åŠ æˆåŠŸï¼</p><h3 id="æ’å…¥æ•°æ®">æ’å…¥æ•°æ®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into test_iceberg_tbl values(1,&#x27;zhangsan&#x27;,18,&#x27;20230217&#x27;);</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨HDFSä¸Šå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„è¡¨</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/hiveæ•´åˆiceberg/image-20230217143705481.png"/></div></div><h3 id="æŸ¥è¯¢æ•°æ®">æŸ¥è¯¢æ•°æ®</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> test_iceberg_tbl;</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/hiveæ•´åˆiceberg/image-20230217143834934.png"/></div></div><p>å¯ä»¥çœ‹åˆ°æˆ‘æ²¡åˆšåˆšæ’å…¥çš„æ•°æ®</p><h3 id="ä½¿ç”¨catelogåˆ›å»ºè¡¨">ä½¿ç”¨catelogåˆ›å»ºè¡¨</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> iceberg.catalog.another_hive.type<span class="operator">=</span>hive;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test_iceberg_tbl2(</span><br><span class="line">id <span class="type">int</span>,</span><br><span class="line">name string,</span><br><span class="line">age <span class="type">int</span></span><br><span class="line">) partitioned <span class="keyword">by</span> (dt string)</span><br><span class="line">stored <span class="keyword">by</span> <span class="string">&#x27;org.apache.iceberg.mr.hive.HiveIcebergStorageHandler&#x27;</span></span><br><span class="line">tblproperties(<span class="string">&#x27;iceberg.catelog&#x27;</span><span class="operator">=</span><span class="string">&#x27;another_hive&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="æ’å…¥æ•°æ®-2">æ’å…¥æ•°æ®</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> test_iceberg_tbl2 <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;lisi&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;20230217&#x27;</span>);</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">hiveé›†æˆiceberg</summary>
    
    
    
    <category term="å¤§æ•°æ®" scheme="https://codegao.cc/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
    
    <category term="hive" scheme="https://codegao.cc/tags/hive/"/>
    
    <category term="iceberg" scheme="https://codegao.cc/tags/iceberg/"/>
    
  </entry>
  
  <entry>
    <title>kylin4.0åœ¨CDH6.2.0éƒ¨ç½²</title>
    <link href="https://codegao.cc/posts/3c214807.html"/>
    <id>https://codegao.cc/posts/3c214807.html</id>
    <published>2023-02-15T03:30:00.000Z</published>
    <updated>2023-03-13T07:37:15.461Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Kylinä¸‹è½½">Kylinä¸‹è½½</h3><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/kylin4.0åœ¨CDH6.2.0éƒ¨ç½²/image-20230216090655196.png"/></div></div><p>æ ¹æ®éœ€è¦çš„è½¯ä»¶ç‰ˆæœ¬ä¸‹è½½Kylin</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://archive.apache.org/dist/kylin/">https://archive.apache.org/dist/kylin/</a></p><h3 id="ç¯å¢ƒå‡†å¤‡">ç¯å¢ƒå‡†å¤‡</h3><p>ç”±äºæˆ‘è¦åœ¨CDHä¸Šéƒ¨ç½²ï¼Œæ ¹æ®å®˜æ–¹æ–‡æ¡£è¿˜éœ€è¦ä¸‰ä¸ªjaråŒ…</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://cwiki.apache.org/confluence/display/KYLIN/Deploy+Kylin+4+on+CDH+6">https://cwiki.apache.org/confluence/display/KYLIN/Deploy+Kylin+4+on+CDH+6</a></p><p>éœ€è¦çš„jaråŒ…ï¼šcommons-configurationã€hive-execã€stax2-apiåœ¨å®˜æ–¹æ–‡æ¡£ä¸­ä¹Ÿæœ‰ä¸‹è½½è¿æ¥</p><h3 id="æŠŠjaråŒ…æ”¾åˆ°æŒ‡å®šç›®å½•">æŠŠjaråŒ…æ”¾åˆ°æŒ‡å®šç›®å½•</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> <span class="variable">$KYLIN_HOME</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">mkdir</span> -p bin/hadoop3_jars/cdh6</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> commons-configuration-1.10.jar bin/hadoop3_jars/cdh6</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> hive-exec-1.21.2.3.1.0.0-78.jar bin/hadoop3_jars/cdh6</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> stax2-api-3.1.4.jar bin/hadoop3_jars/cdh6</span></span><br></pre></td></tr></table></figure><h3 id="å‡†å¤‡mysqlè¿æ¥">å‡†å¤‡mysqlè¿æ¥</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">mkdir</span> ext</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cp</span> mysql-connector-java-5.1.40.jar ext/</span></span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹é…ç½®">ä¿®æ”¹é…ç½®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">vi conf/kylin.properties</span></span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">sparké…ç½®</span></span><br><span class="line">kylin.query.spark-conf.spark.sql.hive.metastore.version=2.1.1</span><br><span class="line">kylin.query.spark-conf.spark.sql.hive.metastore.jars=/opt/cloudera/parcels/CDH-6.2.0-1.cdh6.2.0.p0.967373/lib/hive/lib/*:/opt/cloudera/parcels/CDH-6.2.0-1.cdh6.2.0.p0.967373/lib/hadoop/*:/opt/cloudera/parcels/CDH-6.2.0-1.cdh6.2.0.p0.967373/lib/hadoop/lib/*:/opt/cloudera/parcels/CDH-6.2.0-1.cdh6.2.0.p0.967373/lib/hadoop-hdfs/*:/opt/cloudera/parcels/CDH-6.2.0-1.cdh6.2.0.p0.967373/lib/hadoop-yarn/*:/opt/cloudera/parcels/CDH-6.2.0-1.cdh6.2.0.p0.967373/lib/hadoop-mapreduce/*</span><br><span class="line">kylin.engine.spark-conf.spark.sql.hive.metastore.version=2.1.1</span><br><span class="line">kylin.engine.spark-conf.spark.sql.hive.metastore.jars=/opt/cloudera/parcels/CDH-6.2.0-1.cdh6.2.0.p0.967373/lib/hive/lib/*:/opt/cloudera/parcels/CDH-6.2.0-1.cdh6.2.0.p0.967373/lib/hadoop/*:/opt/cloudera/parcels/CDH-6.2.0-1.cdh6.2.0.p0.967373/lib/hadoop/lib/*:/opt/cloudera/parcels/CDH-6.2.0-1.cdh6.2.0.p0.967373/lib/hadoop-hdfs/*:/opt/cloudera/parcels/CDH-6.2.0-1.cdh6.2.0.p0.967373/lib/hadoop-yarn/*:/opt/cloudera/parcels/CDH-6.2.0-1.cdh6.2.0.p0.967373/lib/hadoop-mapreduce/*</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">mysqlé…ç½®</span></span><br><span class="line">kylin.metadata.url=kylin_metadata@jdbc,driverClassName=com.mysql.jdbc.Driver,url=jdbc:mysql://localhost:3306/kylin_test,username=,password=</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">zké…ç½®</span></span><br><span class="line">kylin.env.zookeeper-connect-string=ip</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨">å¯åŠ¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sh bin/kylin.sh start</span></span><br></pre></td></tr></table></figure><h3 id="åœæ­¢">åœæ­¢</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">sh bin/kylin.sh stop</span></span><br></pre></td></tr></table></figure><h3 id="é‡åˆ°çš„é—®é¢˜">é‡åˆ°çš„é—®é¢˜</h3><h4 id="1-Permission-denied-user-root-access-WRITE-inode-â€œ-â€œ-hdfs-supergroup-drwxr-xr-x">1.Permission denied: user=root, access=WRITE, inode=â€œ/â€œ:hdfs:supergroup:drwxr-xr-x</h4><p>æƒé™ä¸è¶³ï¼Œéœ€è¦åœ¨hdfsä¸­é…ç½®dfs.permissions.enabledï¼Œå€¼ä¸ºfalse</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/kylin4.0åœ¨CDH6.2.0éƒ¨ç½²/c6b23c30fa3d49b6a84eea533d22e1f2.png"/></div></div><p>ç„¶åé‡å¯</p><h4 id="2-spark-not-found-set-SPARK-HOME-or-run-bin-download-spark-sh">2.spark not found, set SPARK_HOME, or run bin/download-spark.sh</h4><p>åœ¨/etc/profileä¸­åŠ å…¥ç¯å¢ƒå˜é‡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export SPARK_HOME=/opt/cloudera/parcels/CDH/lib/spark</span><br><span class="line">export KYLIN_HOME=/opt/apache-kylin-4.0.0-bin-spark2</span><br><span class="line">export PATH=$KYLIN_HOME/bin:$JAVA_HOME/bin:$PATH</span><br></pre></td></tr></table></figure><h4 id="3-Caused-by-java-lang-NoSuchFieldError-METASTORE-CLIENT-FILTER-ENABLED">3. Caused by: java.lang.NoSuchFieldError: METASTORE_CLIENT_FILTER_ENABLED</h4><p>åŸå› ï¼šhiveè¿æ¥jaråŒ…ä¸hiveç‰ˆæœ¬ä¸ä¸€è‡´</p><p>è§£å†³æ–¹æ¡ˆï¼šåˆ°hiveä¸­æŠŠè¿æ¥jaråŒ…copyåˆ°kylinä¸­</p>]]></content>
    
    
    <summary type="html">kylinå®‰è£…æ­¥éª¤</summary>
    
    
    
    <category term="å¤§æ•°æ®" scheme="https://codegao.cc/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
    
    <category term="kylin" scheme="https://codegao.cc/tags/kylin/"/>
    
  </entry>
  
  <entry>
    <title>CDH6.2é›†ç¾¤æ­å»º</title>
    <link href="https://codegao.cc/posts/cdc81c6.html"/>
    <id>https://codegao.cc/posts/cdc81c6.html</id>
    <published>2023-02-13T01:30:00.000Z</published>
    <updated>2023-04-25T03:13:14.373Z</updated>
    
    <content type="html"><![CDATA[<h3 id="åŸºç¡€ç¯å¢ƒé…ç½®">åŸºç¡€ç¯å¢ƒé…ç½®</h3><h4 id="é…ç½®ä¸»æœºåå’Œç½‘ç»œæ˜ å°„">é…ç½®ä¸»æœºåå’Œç½‘ç»œæ˜ å°„</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/hostname</span><br><span class="line">vi /etc/hosts</span><br></pre></td></tr></table></figure><p>ç¡®ä¿é›†ç¾¤å†…çš„èŠ‚ç‚¹ä¹‹é—´ç½‘ç»œé€šç•…</p><h3 id="é˜²ç«å¢™ä¸setlinuxæ–‡ä»¶-æ¯ä¸ªèŠ‚ç‚¹éƒ½æ‰§è¡Œ">é˜²ç«å¢™ä¸setlinuxæ–‡ä»¶(æ¯ä¸ªèŠ‚ç‚¹éƒ½æ‰§è¡Œ)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line"></span><br><span class="line">systemctl disable firewalld.service</span><br><span class="line"></span><br><span class="line">iptables -F</span><br></pre></td></tr></table></figure><p>å…³é—­selinux</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/selinux/config</span><br></pre></td></tr></table></figure><p>å°†SELINUX=disabled</p><h3 id="é…ç½®èŠ‚ç‚¹ä¹‹é—´SSHå…å¯†ç™»å½•">é…ç½®èŠ‚ç‚¹ä¹‹é—´SSHå…å¯†ç™»å½•</h3><p>åœ¨ä¸»èŠ‚ç‚¹ä¸‹æ‰§è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.ssh</span><br><span class="line"></span><br><span class="line">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><p>å°†å…¬é’¥å¤åˆ¶åˆ°å„ä¸ªèŠ‚ç‚¹çš„~/.ssh/authorized_keysä¸­</p><h3 id="ç¦ç”¨é€æ˜å¤§é¡µ-æ¯ä¸ªèŠ‚ç‚¹éƒ½æ‰§è¡Œ">ç¦ç”¨é€æ˜å¤§é¡µ(æ¯ä¸ªèŠ‚ç‚¹éƒ½æ‰§è¡Œ)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag</span><br><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled</span><br><span class="line">echo never &gt;&gt; /etc/rc.local  ###ä¸ºäº†é˜²æ­¢é‡å¯æœºå™¨åï¼Œä¸Šè¿°é…ç½®ä¸ç”Ÿæ•ˆï¼Œå°†ä»¥ä¸Šå†…å®¹å†™å…¥ /etc/rc.local</span><br></pre></td></tr></table></figure><h3 id="ç¦ç”¨äº¤æ¢ç©ºé—´-æ¯ä¸ªèŠ‚ç‚¹éƒ½æ‰§è¡Œ">ç¦ç”¨äº¤æ¢ç©ºé—´(æ¯ä¸ªèŠ‚ç‚¹éƒ½æ‰§è¡Œ)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;vm.swappiness=0&quot;  &gt;&gt; /etc/sysctl.conf   (æ°¸ä¹…é™ä½è™šæ‹Ÿå†…å­˜éœ€æ±‚ç‡)</span><br><span class="line">sysctl -p                                     (ä½¿å‘½ä»¤ç”Ÿæ•ˆ) </span><br></pre></td></tr></table></figure><h3 id="å®‰è£…NTPæœåŠ¡">å®‰è£…NTPæœåŠ¡</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¸‹è½½(æ¯ä¸ªèŠ‚ç‚¹éƒ½å®‰è£…)</span></span><br><span class="line">yum install -y ntp</span><br></pre></td></tr></table></figure><p><strong>â‘ é…ç½®ä¸»èŠ‚ç‚¹</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/ntp.conf </span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230213173315438.png"/></div></div><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230307144244913.png"/></div></div><p>å»æ‰æ³¨é‡Šï¼Œå°†åœ°å€æ”¹æˆç½‘æ®µåœ°å€</p><p>æ³¨é‡Šæ‰åŸæœ‰çš„serverï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">restrict 172.16.13.133 nomodify notrap nopeer noquery</span><br><span class="line">server 127.127.1.0       ###åœ¨å®é™…ä¸­å¯èƒ½ä¼šå‡ºç°èŠ‚ç‚¹ç½‘ç»œè¿æ¥ä¸¢å¤±çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä»¥æœ¬åœ°æ—¶é—´ä½œä¸ºæ—¶é—´æœåŠ¡</span><br><span class="line"></span><br><span class="line">fudge  127.127.1.0  stratum  10</span><br></pre></td></tr></table></figure><p><strong>â‘¡é…ç½®å…¶ä»–ä»èŠ‚ç‚¹</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/ntp.conf </span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230307144429307.png"/></div></div><p>éœ€è¦é…ç½®ä¸»èŠ‚ç‚¹çš„åœ°å€</p><p><strong>â‘¢å¯åŠ¨ntpæœåŠ¡</strong>(æ‰€æœ‰èŠ‚ç‚¹)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start ntpd.service</span><br><span class="line">systemctl enable ntpd.service</span><br></pre></td></tr></table></figure><p><strong>â‘£éªŒè¯ntpé…ç½®æ˜¯å¦æˆåŠŸ</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ntpstat</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230307144733282.png"/></div></div><p>å¦‚æœå‡ºç°ä»¥ä¸Šä¿¡æ¯è¯´æ˜é…ç½®æˆåŠŸ</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230307144824073.png"/></div></div><p>å¦‚æœå‡ºç°è¿™ç§æƒ…å†µä¹Ÿæ˜¯æ­£å¸¸çš„ï¼ŒntpæœåŠ¡å™¨é…ç½®å®Œæ¯•åï¼Œéœ€è¦ç­‰å¾…5-10åˆ†é’Ÿæ‰èƒ½ä¸/etc/ntp.confä¸­é…ç½®çš„æ ‡å‡†æ—¶é—´è¿›è¡ŒåŒæ­¥ã€‚</p><h3 id="å®‰è£…repo-ä¸»èŠ‚ç‚¹å®‰è£…">å®‰è£…repo(ä¸»èŠ‚ç‚¹å®‰è£…)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y createrepo</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…HTTP-ä¸»èŠ‚ç‚¹å®‰è£…">å®‰è£…HTTP(ä¸»èŠ‚ç‚¹å®‰è£…)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum -y install httpd         ###å°±æ˜¯ç”¨çš„åˆšé…ç½®çš„cenos7ç³»ç»Ÿæº</span><br><span class="line">systemctl start httpd          (å¯åŠ¨httpdæœåŠ¡)</span><br><span class="line">systemctl status httpd         (æŸ¥çœ‹httpdæœåŠ¡çŠ¶æ€)</span><br><span class="line">systemctl enable httpd         (å°†httpdæœåŠ¡åŠ å…¥åˆ°å¼€å¯å¯åŠ¨é¡¹ä¸­)</span><br></pre></td></tr></table></figure><p>å¯åŠ¨æˆåŠŸåå¯ä»¥æµè§ˆ<code> http://ip/</code>ï¼Œå¦‚æœå¯ä»¥çœ‹åˆ°ä»¥ä¸‹ç•Œé¢è¯´æ˜æ˜¯æˆåŠŸçš„ã€‚</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230214092021558.png"/></div></div><h3 id="åˆ›å»ºyumæº-ä¸»èŠ‚ç‚¹æ‰§è¡Œ">åˆ›å»ºyumæº(ä¸»èŠ‚ç‚¹æ‰§è¡Œ)</h3><p>â‘ åˆ›å»ºç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir  /var/www/html/cm</span><br></pre></td></tr></table></figure><p>â‘¡å°†rpmå®‰è£…åŒ…æ”¾åˆ°cmç›®å½•ä¸‹</p><p>â‘¢åœ¨/var/www/html/cmç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">createrepo .  #åˆ›å»ºæœ¬åœ°yumä»“åº“</span><br></pre></td></tr></table></figure><p>â‘£åœ¨/etc/yum.repos.dä¸‹é¢æ–°å»ºcm.repoæ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi cm.repo</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Cloudera_Manager]</span><br><span class="line">name=Cloudera Manager</span><br><span class="line">baseurl=http://ip/cm</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></table></figure><p>â‘¤å°†.repoæ–‡ä»¶å‘é€åˆ°å…¶ä»–èŠ‚ç‚¹æœºå™¨ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp /etc/yum.repos.d/cm.repo node2:/etc/yum.repos.d/</span><br><span class="line">scp /etc/yum.repos.d/cm.repo node3:/etc/yum.repos.d/</span><br></pre></td></tr></table></figure><p>â‘¥æ¸…ç©ºyumç¼“å­˜(æ‰€æœ‰èŠ‚ç‚¹éƒ½æ‰§è¡Œ)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum clean all   æ¸…ç©ºç¼“å­˜ä¿¡æ¯</span><br><span class="line">yum repolist æŸ¥çœ‹yumä»“åº“åˆ—è¡¨</span><br><span class="line">yum makecache æ„å»ºyumç¼“å­˜</span><br></pre></td></tr></table></figure><h3 id="jdkå®‰è£…åŠé…ç½®-æ‰€æœ‰èŠ‚ç‚¹">jdkå®‰è£…åŠé…ç½®(æ‰€æœ‰èŠ‚ç‚¹)</h3><h4 id="å®‰è£…jdk">å®‰è£…jdk</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install jdk    ###å› ä¸ºvar/www/html/cmç›®å½•ä¸‹å·²ç»æœ‰jdkçš„rpmåŒ…ä½œä¸ºyumæºï¼Œå¤šå°æœåŠ¡å™¨å¯ä»¥åŒæ—¶å®‰è£…</span><br></pre></td></tr></table></figure><p>é»˜è®¤å®‰è£…è·¯å¾„ä¸º/usr/java</p><h4 id="é…ç½®jdk">é…ç½®jdk</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/profile</span><br></pre></td></tr></table></figure><p>æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/java/jdk1.8.0_181-cloudera</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br></pre></td></tr></table></figure><h4 id="é…ç½®ä¸‹å‘åˆ°å…¶ä»–èŠ‚ç‚¹">é…ç½®ä¸‹å‘åˆ°å…¶ä»–èŠ‚ç‚¹</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp /etc/profile node2:/etc/</span><br><span class="line">scp /etc/profile node3:/etc/</span><br></pre></td></tr></table></figure><h4 id="é…ç½®ç”Ÿæ•ˆ">é…ç½®ç”Ÿæ•ˆ</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…åŠé…ç½®mysql">å®‰è£…åŠé…ç½®mysql</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">mysqléœ€è¦å®‰è£…ä»¥ä¸‹ä¾èµ–</span></span><br><span class="line">yum -y install libaio perl net-tools</span><br></pre></td></tr></table></figure><p>â‘ å°†mysqlçš„rpmåŒ…ä¸Šä¼ åˆ°ä¸»èŠ‚ç‚¹ä¸Š</p><p>â‘¡å¸è½½ç³»ç»Ÿè‡ªå¸¦çš„mariadbæ•°æ®åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa|grep mariadb | xargs -I &#123;&#125; rpm -e --nodeps &#123;&#125;</span><br></pre></td></tr></table></figure><p>â‘¢å®‰è£…mysqlæ•°æ®åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh mysql-community-common-5.7.27-1.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">rpm -ivh mysql-community-libs-5.7.27-1.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">rpm -ivh mysql-community-devel-5.7.27-1.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">rpm -ivh mysql-community-client-5.7.27-1.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">rpm -ivh mysql-community-server-5.7.27-1.el7.x86_64.rpm</span><br><span class="line"></span><br><span class="line">rpm -ivh mysql-community-libs-compat-5.7.26-1.el7.x86_64.rpm</span><br></pre></td></tr></table></figure><p>â‘£å¼€å¯æ•°æ®åº“æœåŠ¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¼€å¯æ•°æ®åº“æœåŠ¡</span></span><br><span class="line">systemctl start mysqld</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ·»åŠ åˆ°è‡ªå¯åŠ¨æœåŠ¡</span></span><br><span class="line">systemctl enable mysqld</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹çŠ¶æ€</span></span><br><span class="line">systemctl status mysqld</span><br></pre></td></tr></table></figure><p>â‘¤è·å–mysqlå¯†ç </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &#x27;temporary password&#x27; /var/log/mysqld.log</span><br></pre></td></tr></table></figure><p>â‘¥ä¿®æ”¹å¯†ç </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p è·å–åˆ°çš„å¯†ç </span><br><span class="line"></span><br><span class="line">alter user root@localhost identified by &#x27;2wsx#EDC&#x27;; #å¯†ç ä¿®æ”¹ä¸º2wsx#EDC</span><br><span class="line"></span><br><span class="line">update user set host = &#x27;%&#x27; where user =&#x27;root&#x27;; #å…è®¸è¿œç¨‹è¿æ¥</span><br><span class="line"></span><br><span class="line">flush privileges;#æ›´æ–°</span><br></pre></td></tr></table></figure><p>â‘¦åˆ›å»ºæ•°æ®åº“å¹¶æˆæƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p2wsx#EDC -e â€˜create database metastore default character set utf8;â€™</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œcreate user â€˜hiveâ€™@â€˜%â€™ identified by â€˜2wsx#EDCâ€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€˜create database hive default character set utf8â€™;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œgrant all privileges on hive.* to â€˜hiveâ€™@â€˜%â€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œgrant all privileges on metastore.* to â€˜hiveâ€™@â€˜%â€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œcreate user â€˜amonâ€™@â€˜%â€™ identified by â€˜2wsx#EDCâ€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€˜create database amon default character set utf8â€™;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œgrant all privileges on amon.* to â€˜amonâ€™@â€˜%â€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œcreate user â€˜rmanâ€™@â€˜%â€™ identified by â€˜2wsx#EDCâ€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€˜create database rman default character set utf8â€™;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œgrant all privileges on rman.* to â€˜rmanâ€™@â€˜%â€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œcreate user â€˜sentryâ€™@â€˜%â€™ identified by â€˜2wsx#EDCâ€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€˜create database sentry default character set utf8â€™;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œgrant all privileges on sentry.* to â€˜sentryâ€™@â€˜%â€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œcreate user â€˜navâ€™@â€˜%â€™ identified by â€˜2wsx#EDCâ€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€˜create database nav default character set utf8â€™;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œgrant all privileges on nav.* to â€˜navâ€™@â€˜%â€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œcreate user â€˜navmsâ€™@â€˜%â€™ identified by â€˜2wsx#EDCâ€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€˜create database navms default character set utf8â€™;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œgrant all privileges on navms.* to â€˜navmsâ€™@â€˜%â€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œcreate user â€˜cmâ€™@â€˜%â€™ identified by â€˜2wsx#EDCâ€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€˜create database cm default character set utf8â€™;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œgrant all privileges on cm.* to â€˜cmâ€™@â€˜%â€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œcreate user â€˜oosâ€™@â€˜%â€™ identified by â€˜2wsx#EDCâ€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€˜create database oos default character set utf8â€™;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œgrant all privileges on oos.* to â€˜oosâ€™@â€˜%â€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œcreate user â€˜hueâ€™@â€˜%â€™ identified by â€˜2wsx#EDCâ€™â€;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€˜create database hue default character set utf8â€™;</span><br><span class="line"></span><br><span class="line">mysql -u root --password=â€˜2wsx#EDCâ€™ -e â€œgrant all privileges on hue.* to â€˜hueâ€™@â€˜%â€™â€;</span><br></pre></td></tr></table></figure><p>â‘§å¤åˆ¶mysql-contannor.jar</p><p>å¤åˆ¶mysql-connectåˆ°/usr/share/java/,å¦‚æœæ²¡æœ‰è¯¥æ–‡ä»¶å¤¹å¯ä»¥è‡ªè¡Œåˆ›å»º</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp mysql-connector-java-5.1.47.jar /usr/share/java/</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…CM-serverå’ŒAgent">å®‰è£…CM serverå’ŒAgent</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¸»èŠ‚ç‚¹å®‰è£…</span></span><br><span class="line">yum install -y cloudera-manager-daemons cloudera-manager-server   cloudera-manager-agent </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä»èŠ‚ç‚¹å®‰è£…</span></span><br><span class="line">yum install -y cloudera-manager-daemons cloudera-manager-agent</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹agenté…ç½®æ–‡ä»¶">ä¿®æ”¹agenté…ç½®æ–‡ä»¶</h3><p>åˆ†åˆ«ä¿®æ”¹mini1,mini2,mini3agentæ‰€åœ¨çš„èŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶config.iniå†…å®¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/cloudera-scm-agent/config.ini</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">server_host=node1 ï¼ˆè¿™é‡Œæ˜¯ä»¥node1ä½œä¸ºserverèŠ‚ç‚¹ï¼Œè®©agentæ„ŸçŸ¥serveræ‰€åœ¨èŠ‚ç‚¹ï¼‰</span></span><br></pre></td></tr></table></figure><h3 id="åˆå§‹åŒ–æ•°æ®åº“">åˆå§‹åŒ–æ•°æ®åº“</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/opt/cloudera/cm/schema/scm_prepare_database.sh mysql -h localhost -uroot -proot --scm-host localhost scm root root</span><br></pre></td></tr></table></figure><h3 id="ä¸Šä¼ CDHæœåŠ¡åŒ…">ä¸Šä¼ CDHæœåŠ¡åŒ…</h3><p>ä¸Šä¼ ä»¥ä¸‹ä¸‰ä¸ªCHD6å¤§æ•°æ®æœåŠ¡ç»„ä»¶èµ„æºåŒ… åˆ°ã€node1ã€‘çš„ /opt/cloudera/parcel-repo ç›®å½•ä¸‹<br>CDH-6.3.0-1.cdh6.3.0.p0.1279813-el7.parcel<br>CDH-6.3.0-1.cdh6.3.0.p0.1279813-el7.parcel.sha<br>manifest.json</p><h3 id="å¯åŠ¨Cloudera-Manager">å¯åŠ¨Cloudera Manager</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl start cloudera-scm-server      (å¯åŠ¨server)</span><br><span class="line">systemctl status cloudera-scm-server     (æŸ¥çœ‹serverçŠ¶æ€)</span><br><span class="line">systemctl stop cloudera-scm-server         (åœæ­¢server)</span><br><span class="line">systemctl enable cloudera-scm-server     (å¼€æœºå¯åŠ¨server)</span><br><span class="line">tail -500f /var/log/cloudera-scm-server/cloudera-scm-server.log (æŸ¥çœ‹serverå¯åŠ¨æ—¥å¿—)   </span><br></pre></td></tr></table></figure><p>ä½¿ç”¨netstat -nltpå‘½ä»¤æŸ¥çœ‹ã€node1ã€‘ç«¯å£7180 æ˜¯å¦å¯åŠ¨æˆåŠŸï¼Œå¦‚æœå‡ºç°7180ç«¯å£ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸ</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230214164813701.png"/></div></div><p>è®¿é—®ip+7180ç«¯å£å³å¯æŸ¥çœ‹é¡µé¢</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230214165002631.png"/></div></div><h3 id="å¯åŠ¨Cloudera-Manager-agent-æ‰€æœ‰èŠ‚ç‚¹">å¯åŠ¨Cloudera Manager agent(æ‰€æœ‰èŠ‚ç‚¹)</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">systemctl start cloudera-scm-agent    (å¯åŠ¨agent)</span><br><span class="line">systemctl stop cloudera-scm-agent</span><br><span class="line">systemctl enable cloudera-scm-agent   (å¼€æœºå¯åŠ¨agent) </span><br><span class="line">tail -500f /var/log/cloudera-scm-agent/cloudera-scm-agent.log  (æŸ¥çœ‹agentå¯åŠ¨æ—¥å¿—)    </span><br></pre></td></tr></table></figure><p>å¦‚æœçœ‹åˆ°9000å’Œ19001ç«¯å£è¯´æ˜å¯åŠ¨æˆåŠŸ</p><h3 id="è½¯ä»¶å®‰è£…">è½¯ä»¶å®‰è£…</h3><p>â‘ é€‰æ‹©ç¬¬äºŒä¸ªæœåŠ¡ç»„åˆ</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230215131136200.png"/></div></div><p>â‘¡è§’è‰²åˆ†é…</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230215111248299.png"/></div></div><p>â‘¢æ•°æ®åº“è®¾ç½®</p><p>è¦å…ˆé€šè¿‡æµ‹è¯•è¿æ¥æ‰å¯ä»¥ç»§ç»­</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230215111404340.png"/></div></div><p>â‘£å®¡æ ¸æ›´æ”¹</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230215132004921.png"/></div></div><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230215132031882.png"/></div></div><p>â‘¤å®‰è£…</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230215133218726.png"/></div></div><h3 id="ç»„ä»¶ç‰ˆæœ¬">ç»„ä»¶ç‰ˆæœ¬</h3><table><thead><tr><th style="text-align:center">åºå·</th><th>ç»„ä»¶</th><th>ç‰ˆæœ¬</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td>CDH</td><td>6.2.0</td></tr><tr><td style="text-align:center">2</td><td>Hadoop</td><td>3.0.0</td></tr><tr><td style="text-align:center">3</td><td>Hive</td><td>2.1.0</td></tr><tr><td style="text-align:center">4</td><td>Hue</td><td>4.2.0</td></tr><tr><td style="text-align:center">5</td><td>Kafka</td><td>2.1.0</td></tr><tr><td style="text-align:center">6</td><td>Oozie</td><td>5.1.0</td></tr><tr><td style="text-align:center">7</td><td>spark</td><td>2.4.0</td></tr><tr><td style="text-align:center">8</td><td>Sqoop</td><td>1.4.7</td></tr><tr><td style="text-align:center">9</td><td>ZooKeeper</td><td>3.4.5</td></tr><tr><td style="text-align:center">10</td><td>Hbase</td><td>2.1.0</td></tr></tbody></table><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/image-20230215141540031.png"/></div></div><h3 id="ä¸»æœºè¿è¡ŒçŠ¶æ€ä¸è‰¯-Cluster-not-found">ä¸»æœºè¿è¡ŒçŠ¶æ€ä¸è‰¯ / Cluster not found</h3><p>é€€å›ä¸Šä¸€æ­¥ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -f /var/lib/cloudera-scm-agent/cm_guid</span><br><span class="line">systemctl restart cloudera-scm-agent</span><br></pre></td></tr></table></figure><h3 id="fail-to-format-namenode">fail to format namenode</h3><p>æ¸…ç©ºæ®‹ç•™æ•°æ®ï¼Œé‡æ–°åˆå§‹åŒ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‰‹åŠ¨æ ¼å¼åŒ–namenode</span></span><br><span class="line">hdfs namenode -format</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">namenodeèŠ‚ç‚¹</span></span><br><span class="line">rm -rf /dfs/nn</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">datanodeèŠ‚ç‚¹</span></span><br><span class="line">rm -rf /dfs/dn</span><br></pre></td></tr></table></figure><h3 id="hadoopæŠ¥é”™ï¼šPermission-denied-user-root">hadoopæŠ¥é”™ï¼šPermission denied: user=root</h3><p>1ã€æ‰¾åˆ°hdfs-site.xml çš„ HDFS æœåŠ¡é«˜çº§é…ç½®ä»£ç æ®µï¼ˆå®‰å…¨é˜€ï¼‰<br>2ã€æ·»åŠ è®¾ç½®å¦‚ä¸‹ï¼Œä¿å­˜æ›´æ”¹ï¼Œé‡å¯hdfsã€‚</p><p>dfs.permissions.enabled çš„å€¼è®¾ç½®ä¸ºfalse</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/CDH6.2é›†ç¾¤æ­å»º/c6b23c30fa3d49b6a84eea533d22e1f2.png"/></div></div>]]></content>
    
    
    <summary type="html">CDHå®‰è£…æ­¥éª¤åŠé‡åˆ°çš„é—®é¢˜</summary>
    
    
    
    <category term="å¤§æ•°æ®" scheme="https://codegao.cc/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
    
    <category term="CDH" scheme="https://codegao.cc/tags/CDH/"/>
    
    <category term="hadoop" scheme="https://codegao.cc/tags/hadoop/"/>
    
  </entry>
  
  <entry>
    <title>hadoopé—®é¢˜</title>
    <link href="https://codegao.cc/posts/41abec6c.html"/>
    <id>https://codegao.cc/posts/41abec6c.html</id>
    <published>2023-01-21T05:33:00.000Z</published>
    <updated>2023-03-15T08:47:06.810Z</updated>
    
    <content type="html"><![CDATA[<p>æ­¤æ–‡ç« è®°å½•hadoopä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜</p><h2 id="hadoopå¯åŠ¨åæ²¡æœ‰datanode">hadoopå¯åŠ¨åæ²¡æœ‰datanode</h2><p><strong>åŸå› </strong>ï¼šnamenodeå’Œdatanodeçš„IDä¸åŒ¹é…</p><p><strong>è§£å†³åŠæ³•</strong>ï¼š</p><p>â‘ æ ¹æ®æ—¥å¿—ä¸­çš„è·¯å¾„æ‰¾åˆ°dataæ–‡ä»¶å¤¹</p><p>â‘¡å°†data/currentä¸­çš„VERSIONåˆ é™¤</p><p>â‘¢é‡æ–°æ‰§è¡Œhadoop namenode -format</p><h2 id="HDFSå¤šå­˜å‚¨ç›®å½•">HDFSå¤šå­˜å‚¨ç›®å½•</h2><p>â‘ ç”Ÿäº§ç¯å¢ƒæœåŠ¡å™¨ç£ç›˜æƒ…å†µ</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/hadoopé—®é¢˜/1.jpg"/></div></div><p>â‘¡å¯ä»¥åœ¨hdfs-site.xmlæ–‡ä»¶ä¸­é…ç½®å¤šç›®å½•ï¼Œæ³¨æ„æ–°æŒ‚è½½ç£ç›˜çš„è®¿é—®æƒé™é—®é¢˜ã€‚</p><p>HDFSçš„DateNodeèŠ‚ç‚¹ä¿å­˜æ•°æ®çš„è·¯å¾„ç”±<strong>dfs.datanode.data.dir</strong>å‚æ•°å†³å®šï¼Œå…¶é»˜è®¤å€¼ä¸º<strong>file://${hadoop.tmp.dir}/dfs/data</strong>ï¼Œè‹¥æœåŠ¡å™¨æœ‰å¤šä¸ªç£ç›˜ï¼Œå¿…é¡»å¯¹è¯¥å‚æ•°è¿›è¡Œä¿®æ”¹ã€‚å¦‚æœåŠ¡å™¨ç£ç›˜å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåˆ™è¯¥å‚æ•°åº”ä¿®æ”¹ä¸ºå¦‚ä¸‹çš„å€¼ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.datanode.data.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>file:///dfs/data1,file:///hd2/dfs/data2,file:///hd3/dfs/data3,file:///hd4/dfs/data4<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šæ¯å°æœåŠ¡å™¨æŒ‚è½½çš„ç£ç›˜ä¸ä¸€æ ·ï¼Œæ‰€ä»¥æ¯ä¸ªèŠ‚ç‚¹çš„å¤šç›®å½•é…ç½®å¯ä»¥ä¸ä¸€è‡´ã€‚å•ç‹¬é…ç½®å³å¯ã€‚</p><h2 id="é›†ç¾¤æ•°æ®å‡è¡¡">é›†ç¾¤æ•°æ®å‡è¡¡</h2><p>â‘ èŠ‚ç‚¹ä¹‹é—´æ•°æ®å‡è¡¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¼€å¯æ•°æ®å‡è¡¡</span></span><br><span class="line">start-balancer.sh -threshold 10</span><br></pre></td></tr></table></figure><p>å¯¹äºå‚æ•°10ï¼Œä»£è¡¨çš„æ˜¯é›†ç¾¤ä¸­å„ä¸ªèŠ‚ç‚¹çš„ç£ç›˜ç©ºé—´åˆ©ç”¨ç‡ç›¸å·®ä¸è¶…è¿‡10%ï¼Œå¯æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åœæ­¢æ•°æ®å‡è¡¡</span></span><br><span class="line">stop-balancer.sh</span><br></pre></td></tr></table></figure><p>â‘¡ç£ç›˜é—´æ•°æ®å‡è¡¡</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç”Ÿæˆå‡è¡¡è®¡åˆ’ï¼ˆå¤šç£ç›˜ä¸‹æ‰ä¼šç”Ÿæˆï¼‰</span></span><br><span class="line">hdfs diskbalancer -plan hadoop103</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ‰§è¡Œå‡è¡¡è®¡åˆ’</span></span><br><span class="line">hdfs diskbalancer -execute hadoop103.plan.json</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹å‡è¡¡ä»»åŠ¡æ‰§è¡Œæƒ…å†µ</span></span><br><span class="line">hdfs diskbalancer -query hadoop103</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å–æ¶ˆå‡è¡¡ä»»åŠ¡</span></span><br><span class="line">hdfs diskbalancer -cancel hadoop103.plan.json</span><br></pre></td></tr></table></figure><h2 id="hadoopå‚æ•°è°ƒä¼˜">hadoopå‚æ•°è°ƒä¼˜</h2><p>â‘ HDFSå‚æ•°è°ƒä¼˜hdfs-site.xml</p><p>è°ƒæ•´NameNodeçº¿ç¨‹æ± å¤§å°ï¼ŒNameNodeæœ‰ä¸€ä¸ªå·¥ä½œçº¿ç¨‹æ± ï¼Œç”¨æ¥å¤„ç†ä¸åŒDataNodeçš„å¹¶å‘å¿ƒè·³ä»¥åŠå®¢æˆ·ç«¯å¹¶å‘çš„å…ƒæ•°æ®æ“ä½œã€‚</p><p>å¯¹äºå¤§é›†ç¾¤æˆ–è€…æœ‰å¤§é‡å®¢æˆ·ç«¯çš„é›†ç¾¤æ¥è¯´ï¼Œé€šå¸¸éœ€è¦å¢å¤§å‚æ•°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.handler.count<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>10<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â‘¡YARNå‚æ•°è°ƒä¼˜yarn-site.xml</p><p>è°ƒæ•´Yarnå•ä¸ªä»»åŠ¡å¯ä»¥ç”³è¯·çš„æœ€å¤§å†…å­˜å¤§å°ï¼Œå’ŒHadoopå•ä¸ªèŠ‚ç‚¹å¯ç”¨å†…å­˜å¤§å°ã€‚è°ƒèŠ‚è¿™ä¸¤ä¸ªå‚æ•°èƒ½æé«˜ç³»ç»Ÿå†…å­˜çš„åˆ©ç”¨ç‡ã€‚</p><p><strong>yarn.nodemanager.resource.memory-mb</strong></p><p>è¡¨ç¤ºè¯¥èŠ‚ç‚¹ä¸ŠYARNå¯ä½¿ç”¨çš„ç‰©ç†å†…å­˜æ€»é‡ï¼Œé»˜è®¤æ˜¯8192ï¼ˆMBï¼‰ï¼Œæ³¨æ„ï¼Œå¦‚æœä½ çš„èŠ‚ç‚¹å†…å­˜èµ„æºä¸å¤Ÿ8GBï¼Œåˆ™éœ€è¦è°ƒå‡å°è¿™ä¸ªå€¼ï¼Œè€ŒYARNä¸ä¼šæ™ºèƒ½çš„æ¢æµ‹èŠ‚ç‚¹çš„ç‰©ç†å†…å­˜æ€»é‡ã€‚</p><p><strong>yarn.scheduler.maximum-allocation-mb</strong></p><p>å•ä¸ªä»»åŠ¡å¯ç”³è¯·çš„æœ€å¤šç‰©ç†å†…å­˜é‡ï¼Œé»˜è®¤æ˜¯8192ï¼ˆMBï¼‰ã€‚</p>]]></content>
    
    
    <summary type="html">è®°å½•hadoopé‡åˆ°çš„é—®é¢˜</summary>
    
    
    
    <category term="å¤§æ•°æ®" scheme="https://codegao.cc/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
    
    <category term="hadoop" scheme="https://codegao.cc/tags/hadoop/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢æ­å»º(å››)_ä¸»é¢˜åŸºæœ¬è®¾ç½®</title>
    <link href="https://codegao.cc/posts/b039d1dd.html"/>
    <id>https://codegao.cc/posts/b039d1dd.html</id>
    <published>2023-01-05T09:25:28.000Z</published>
    <updated>2023-03-13T02:42:03.450Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-è¯­è¨€">1.è¯­è¨€</h3><p>ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶<code>config.yml</code>ï¼Œé»˜è®¤æ˜¯enã€‚</p><p>ä¸»é¢˜æ”¯æŒä¸‰ç§è¯­è¨€ï¼š</p><ul><li>default(en)</li><li>zh-CN (ç®€ä½“ä¸­æ–‡)</li><li>zh-TW (ç¹ä½“ä¸­æ–‡)</li></ul><h3 id="2-ç½‘ç«™èµ„æ–™">2.ç½‘ç«™èµ„æ–™</h3><p>ä¿®æ”¹ç½‘ç«™çš„ä¿¡æ¯åŠä¸ªäººä¿¡æ¯ï¼ŒåŒæ ·æ˜¯ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶<code>config.yml</code></p><table><thead><tr><th style="text-align:center">å‚æ•°</th><th style="text-align:center">æè¿°</th></tr></thead><tbody><tr><td style="text-align:center">title</td><td style="text-align:center">ç½‘ç«™æ ‡é¢˜</td></tr><tr><td style="text-align:center">subtitle</td><td style="text-align:center">æè¿°</td></tr><tr><td style="text-align:center">description</td><td style="text-align:center">ç½‘ç«™æè¿°</td></tr><tr><td style="text-align:center">keywords</td><td style="text-align:center">ç½‘ç«™çš„å…³é”®è¯ã€‚æ”¯æŒå¤šä¸ªå…³é”®è¯</td></tr><tr><td style="text-align:center">author</td><td style="text-align:center">æ‚¨çš„åå­—</td></tr><tr><td style="text-align:center">language</td><td style="text-align:center">ç½‘ç«™ä½¿ç”¨çš„è¯­è¨€ã€‚å¯¹äºç®€ä½“ä¸­æ–‡ç”¨æˆ·æ¥è¯´ï¼Œä½¿ç”¨ä¸åŒçš„ä¸»é¢˜å¯èƒ½éœ€è¦è®¾ç½®æˆä¸åŒçš„å€¼ï¼Œè¯·å‚è€ƒä½ çš„ä¸»é¢˜çš„æ–‡æ¡£è‡ªè¡Œè®¾ç½®ï¼Œå¸¸è§çš„æœ‰ zh-Hanså’Œ zh-CNã€‚</td></tr><tr><td style="text-align:center">timezone</td><td style="text-align:center">ç½‘ç«™æ—¶åŒºã€‚Hexo é»˜è®¤ä½¿ç”¨æ‚¨ç”µè„‘çš„æ—¶åŒºã€‚è¯·å‚è€ƒ æ—¶åŒºåˆ—è¡¨ è¿›è¡Œè®¾ç½®ï¼Œå¦‚ America/New_York, Japan, å’Œ UTC ã€‚ä¸€èˆ¬çš„ï¼Œå¯¹äºä¸­å›½å¤§é™†åœ°åŒºå¯ä»¥ä½¿ç”¨ Asia/Shanghai</td></tr></tbody></table><h3 id="3-å¯¼èˆªèœå•">3.å¯¼èˆªèœå•</h3><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">é¦–é¡µ:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">æ—¶é—´è½´:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">æ ‡ç­¾:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">åˆ†ç±»:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">æ¸…å•||fa</span> <span class="attr">fa-heartbeat:</span></span><br><span class="line">    <span class="string">éŸ³ä¹:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="string">ç…§ç‰‡:</span> <span class="string">/Gallery/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-images</span></span><br><span class="line">    <span class="string">ç”µå½±:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="string">å‹é“¾:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="string">å…³äº:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><h3 id="4-ä»£ç ">4.ä»£ç </h3><h4 id="4-1-ä»£ç é«˜äº®">4.1 ä»£ç é«˜äº®</h4><p>Butterflyæ”¯æŒ 6 ç§ä»£ç é«˜äº®æ ·å¼ï¼š</p><ul><li>darker</li><li>pale night</li><li>light</li><li>ocean</li><li>mac</li><li>mac light</li></ul><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ã€‚ä¸­çš„<code>highlight_theme</code>å±æ€§ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">pale</span> <span class="string">night</span></span><br></pre></td></tr></table></figure><h4 id="4-2-ä»£ç å¤åˆ¶">4.2 ä»£ç å¤åˆ¶</h4><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶_config.butterfly.ymlä¸­çš„highlight_copyå±æ€§ï¼Œtrueè¡¨ç¤ºå¯ä»¥å¤åˆ¶ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="4-3-ä»£ç æ¡†å±•å¼€-å…³é—­">4.3 ä»£ç æ¡†å±•å¼€/å…³é—­</h4><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ã€‚ä¸­çš„<code>highlight_shrink</code>å±æ€§ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">true</span> <span class="comment">#ä»£ç æ¡†ä¸å±•å¼€ï¼Œéœ€ç‚¹å‡» &#x27;&gt;&#x27; æ‰“å¼€</span></span><br></pre></td></tr></table></figure><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œä»£ç æ¡†è‡ªåŠ¨å±•å¼€ï¼Œå¯è®¾ç½®æ˜¯å¦æ‰€æœ‰ä»£ç æ¡†éƒ½å…³é—­çŠ¶æ€ï¼Œç‚¹å‡»&gt;å¯å±•å¼€ä»£ç ã€‚</p><ul><li>true å…¨éƒ¨ä»£ç æ¡†ä¸å±•å¼€ï¼Œéœ€ç‚¹å‡»&gt;æ‰“å¼€</li><li>false ä»£ç æ¡†å±•å¼€ï¼Œæœ‰&gt;ç‚¹å‡»æŒ‰é’®</li><li>none ä¸æ˜¾ç¤º&gt;æŒ‰é’®</li></ul><h4 id="4-4-ä»£ç æ¢è¡Œ">4.4  ä»£ç æ¢è¡Œ</h4><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒHexo åœ¨ç¼–è¯‘çš„æ—¶å€™ä¸ä¼šå®ç°ä»£ç è‡ªåŠ¨æ¢è¡Œã€‚å¦‚æœä½ ä¸å¸Œæœ›åœ¨ä»£ç å—çš„åŒºåŸŸé‡Œæœ‰æ¨ªå‘æ»šåŠ¨æ¡çš„è¯ï¼Œé‚£ä¹ˆä½ å¯ä»¥è€ƒè™‘å¼€å¯è¿™ä¸ªåŠŸèƒ½ã€‚</p><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ã€‚ä¸­çš„<code>code_word_wrap</code>å±æ€§ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="4-5-ä»£ç é«˜åº¦é™åˆ¶">4.5  ä»£ç é«˜åº¦é™åˆ¶</h4><p>å¯é…ç½®ä»£ç é«˜åº¦é™åˆ¶ï¼Œè¶…å‡ºçš„éƒ¨åˆ†ä¼šéšè—ï¼Œå¹¶æ˜¾ç¤ºå±•å¼€æŒ‰é’®ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_height_limit:</span> <span class="literal">false</span> <span class="comment"># unit: px</span></span><br></pre></td></tr></table></figure><ol><li>å•ä½æ˜¯<code>px</code>ï¼Œç›´æ¥æ·»åŠ æ•°å­—ï¼Œå¦‚ 200</li><li>å®é™…é™åˆ¶é«˜åº¦ä¸º<code>highlight_height_limit + 30 px</code> ï¼Œå¤šå¢åŠ  30px é™åˆ¶ï¼Œç›®çš„æ˜¯é¿å…ä»£ç é«˜åº¦åªè¶…å‡ºhighlight_height_limit ä¸€ç‚¹æ—¶ï¼Œå‡ºç°å±•å¼€æŒ‰é’®ï¼Œå±•å¼€æ²¡å†…å®¹ã€‚</li><li>ä¸é€‚ç”¨äºéšè—åçš„ä»£ç å—ï¼ˆ css è®¾ç½® <code>display: none</code>ï¼‰ã€‚</li></ol><h3 id="5-ç¤¾äº¤å›¾æ ‡">5 ç¤¾äº¤å›¾æ ‡</h3><p><code>Butterfly</code>æ”¯æŒ<a href="https://fontawesome.com/icons?from=io">font-awesome v6</a>å›¾æ ‡ã€‚</p><p>ä¹¦å†™æ ¼å¼ï¼š<code>å›¾æ ‡åï¼šurl || æè¿°æ€§æ–‡å­—</code>ã€‚</p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">YML</span></span><br><span class="line"><span class="attribute">social</span><span class="punctuation">:</span></span><br><span class="line">  <span class="attribute">fab fa-github</span><span class="punctuation">:</span> <span class="string">https://github.com/xxxxx || Github</span></span><br><span class="line">  <span class="attribute">fas fa-envelope</span><span class="punctuation">:</span> <span class="string">mailto:xxxxxx@gmail.com || Email</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(å››)_ä¸»é¢˜åŸºæœ¬è®¾ç½®/image-20230109165549855.png"/></div></div><h3 id="6-é¡¶éƒ¨å›¾">6 é¡¶éƒ¨å›¾</h3><p>å¦‚æœä¸è¦æ˜¾ç¤ºé¡¶éƒ¨å›¾ï¼Œå¯ç›´æ¥é…ç½® <code>disable_top_img: true</code>ã€‚</p><table><thead><tr><th>é…ç½®</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>index_img</td><td>ä¸»é¡µçš„ top_img</td></tr><tr><td>default_top_img</td><td>é»˜è®¤çš„ top_imgï¼Œå½“é¡µé¢çš„ top_img æ²¡æœ‰é…ç½®æ—¶ï¼Œä¼šæ˜¾ç¤º default_top_img</td></tr><tr><td>archive_img</td><td>å½’æ¡£é¡µé¢çš„ top_img</td></tr><tr><td>tag_img</td><td>tagå­é¡µé¢ çš„ é»˜è®¤ top_img</td></tr><tr><td>tag_per_img</td><td>tagå­é¡µé¢çš„ top_imgï¼Œå¯é…ç½®æ¯ä¸ª tag çš„ top_img</td></tr><tr><td>category_img</td><td>category å­é¡µé¢ çš„ é»˜è®¤ top_img</td></tr><tr><td>category_per_img</td><td>category å­é¡µé¢çš„ top_imgï¼Œå¯é…ç½®æ¯ä¸ª category çš„ top_img</td></tr></tbody></table><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index_img:</span> <span class="string">xxx.png</span></span><br></pre></td></tr></table></figure><p>å…¶å®ƒé¡µé¢ ï¼ˆtags/categories/è‡ªå»ºé¡µé¢ï¼‰å’Œæ–‡ç« é¡µçš„<code>top_img</code>ï¼Œè¯·åˆ°å¯¹åº”çš„ md é¡µé¢è®¾ç½®<code>front-matter</code>ä¸­çš„<code>top_img</code>ã€‚</p><h3 id="7-æ–‡ç« ç½®é¡¶ä¸å°é¢">7 æ–‡ç« ç½®é¡¶ä¸å°é¢</h3><p>å¯ä»¥ç›´æ¥åœ¨æ–‡ç« çš„<code>front-matter</code>åŒºåŸŸé‡Œæ·»åŠ <code>sticky: 1</code>å±æ€§æ¥æŠŠè¿™ç¯‡æ–‡ç« ç½®é¡¶ã€‚æ•°å€¼è¶Šå¤§ï¼Œç½®é¡¶çš„ä¼˜å…ˆçº§è¶Šå¤§ã€‚</p><p>æ–‡ç« çš„markdownæ–‡æ¡£ä¸Šï¼Œåœ¨<code>Front-matter</code>æ·»åŠ <code>cover</code>ï¼Œå¹¶å¡«ä¸Šè¦æ˜¾ç¤ºçš„å›¾ç‰‡åœ°å€ã€‚å¦‚æœä¸é…ç½®<code>cover</code>ï¼Œå¯ä»¥è®¾ç½®æ˜¾ç¤ºé»˜è®¤çš„<code>cover</code>ï¼›å¦‚æœä¸æƒ³åœ¨é¦–é¡µæ˜¾ç¤ºcoverï¼Œå¯ä»¥è®¾ç½®ä¸º<code>false</code>ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># æ˜¯å¦æ˜¾ç¤ºæ–‡ç« å°é¢</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># å°é¢æ˜¾ç¤ºçš„ä½ç½®</span></span><br><span class="line">  <span class="comment"># ä¸‰ä¸ªå€¼å¯é…ç½® left , right , both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># å½“æ²¡æœ‰è®¾ç½®coveræ—¶ï¼Œé»˜è®¤çš„å°é¢æ˜¾ç¤º</span></span><br><span class="line">  <span class="attr">default_cover:</span> </span><br></pre></td></tr></table></figure><h3 id="8-æ–‡ç« é¡µç›¸å…³é…ç½®">8 æ–‡ç« é¡µç›¸å…³é…ç½®</h3><h4 id="8-1-æ–‡ç« metaæ˜¾ç¤º">8.1 æ–‡ç« metaæ˜¾ç¤º</h4><p><code>post_meta</code>è¿™ä¸ªå±æ€§ç”¨äºæ˜¾ç¤ºæ–‡ç« çš„ç›¸å…³ä¿¡æ¯çš„ï¼Œä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both ä¸»é¡µæ–‡ç« æ—¥æœŸæ˜¯åˆ›å»ºæ—¥æˆ–è€…æ›´æ–°æ—¥æˆ–éƒ½æ˜¾ç¤º</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">relative</span> <span class="comment"># date/relative æ˜¾ç¤ºæ—¥æœŸè¿˜æ˜¯ç›¸å¯¹æ—¥æœŸ</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false ä¸»é¡µæ˜¯å¦æ˜¾ç¤ºåˆ†ç±»</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false ä¸»é¡µæ˜¯å¦æ˜¾ç¤ºæ ‡ç­¾</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false æ˜¾ç¤ºæè¿°æ€§æ–‡å­—</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both æ–‡ç« é¡µæ—¥æœŸæ˜¯åˆ›å»ºæ—¥æˆ–è€…æ›´æ–°æ—¥æˆ–éƒ½æ˜¾ç¤º</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">relative</span> <span class="comment"># date/relative æ˜¾ç¤ºæ—¥æœŸè¿˜æ˜¯ç›¸å¯¹æ—¥æœŸ</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false æ–‡ç« é¡µæ˜¯å¦æ˜¾ç¤ºåˆ†ç±»</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false æ–‡ç« é¡µæ˜¯å¦æ˜¾ç¤ºæ ‡ç­¾</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false æ˜¾ç¤ºæè¿°æ€§æ–‡å­—</span></span><br></pre></td></tr></table></figure><h4 id="8-2-æ–‡ç« ç‰ˆæƒå’Œåè®®è®¸å¯">8.2 æ–‡ç« ç‰ˆæƒå’Œåè®®è®¸å¯</h4><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">author_href:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure><p>ç”±äº<code>Hexo 4.1</code>å¼€å§‹ï¼Œé»˜è®¤å¯¹ç½‘å€è¿›è¡Œè§£ç ï¼Œä»¥è‡³äºå¦‚æœæ˜¯ä¸­æ–‡ç½‘å€ï¼Œä¼šè¢«è§£ç ï¼Œå¯è®¾ç½®<code>decode: true</code>æ¥æ˜¾ç¤ºä¸­æ–‡ç½‘å€ã€‚å¦‚æœæœ‰æ–‡ç« ï¼ˆä¾‹å¦‚ï¼šè½¬è½½æ–‡ç« ï¼‰ä¸éœ€è¦æ˜¾ç¤ºç‰ˆæƒï¼Œå¯ä»¥åœ¨æ–‡ç« é¡µ<code>Front-matter</code>ä¸­å•ç‹¬è®¾ç½®ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">copyright:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>ä»<code>v3.0.0</code>å¼€å§‹ï¼Œæ”¯æŒå¯¹å•ç‹¬æ–‡ç« è®¾ç½®ç‰ˆæƒä¿¡æ¯ï¼Œå¯ä»¥åœ¨æ–‡ç« Front-matterå•ç‹¬è®¾ç½®ã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">post<span class="emphasis">_copyright:</span></span><br><span class="line"><span class="emphasis">copyright_</span>author: xxxx</span><br><span class="line">copyright<span class="emphasis">_author_</span>href: https://xxxxxx.com</span><br><span class="line">copyright<span class="emphasis">_url: https://xxxxxx.com</span></span><br><span class="line"><span class="emphasis">copyright_</span>info: æ­¤æ–‡ç« ç‰ˆæƒå½’xxxxxæ‰€æœ‰ï¼Œå¦‚æœ‰è½¬è½½ï¼Œè¯·è¨»æ˜æ¥è‡ªåŸä½œè€…</span><br></pre></td></tr></table></figure><h4 id="8-3-æ–‡ç« æ‰“èµ">8.3 æ–‡ç« æ‰“èµ</h4><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/img/wechat.jpg</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">wechat</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/img/alipay.jpg</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">alipay</span></span><br></pre></td></tr></table></figure><h4 id="8-4-æ–‡ç« ç›®å½•TOC">8.4 æ–‡ç« ç›®å½•TOC</h4><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span> <span class="comment"># æ–‡ç« é¡µæ˜¯å¦æ˜¾ç¤º TOC</span></span><br><span class="line">  <span class="attr">page:</span> <span class="literal">false</span> <span class="comment"># æ™®é€šé¡µé¢æ˜¯å¦æ˜¾ç¤º TOC</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span> <span class="comment"># æ˜¯å¦æ˜¾ç¤ºç« èŠ‚æ•°</span></span><br><span class="line">  <span class="attr">expand:</span> <span class="literal">false</span><span class="comment"># æ˜¯å¦å±•å¼€ TOC</span></span><br><span class="line">  <span class="attr">style_simple:</span> <span class="literal">false</span> <span class="comment"># for post ç®€æ´æ¨¡å¼ï¼ˆä¾§è¾¹æ åªæ˜¾ç¤º TOC, åªå¯¹æ–‡ç« é¡µæœ‰æ•ˆ ï¼‰</span></span><br></pre></td></tr></table></figure><h4 id="8-5-ç›¸å…³æ–‡ç« æ¨è">8.5 ç›¸å…³æ–‡ç« æ¨è</h4><p>ç›¸å…³æ–‡ç« æ¨èçš„åŸç†æ˜¯æ ¹æ®æ–‡ç« tagsçš„æ¯”é‡æ¥æ¨èï¼Œä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span> <span class="comment"># æ˜¾ç¤ºæ¨èæ–‡ç« æ•°ç›®</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># or created or updated æ–‡ç« æ—¥æœŸæ˜¾ç¤ºåˆ›å»ºæ—¥æˆ–è€…æ›´æ–°æ—¥</span></span><br></pre></td></tr></table></figure><h4 id="8-6-æ–‡ç« é”šç‚¹">8.6 æ–‡ç« é”šç‚¹</h4><p>å¼€å¯æ–‡ç« é”šç‚¹åï¼Œå½“ä½ åœ¨æ–‡ç« é¡µè¿›è¡Œæ»šåŠ¨æ—¶ï¼Œæ–‡ç« é“¾æ¥ä¼šæ ¹æ®æ ‡é¢˜IDè¿›è¡Œæ›¿æ¢ã€‚</p><p>æ³¨æ„: æ¯æ›¿æ¢ä¸€æ¬¡ï¼Œä¼šç•™ä¸‹ä¸€ä¸ªå†å²è®°å½•ã€‚æ‰€ä»¥å¦‚æœä¸€ç¯‡æ–‡ç« æœ‰å¾ˆå¤šé”šç‚¹çš„è¯ï¼Œç½‘é¡µçš„å†å²è®°å½•ä¼šå¾ˆå¤šã€‚</p><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># anchor</span></span><br><span class="line"><span class="comment"># when you scroll in post , the url will update according to header id.</span></span><br><span class="line"><span class="attr">anchor:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="8-7-æ–‡ç« è¿‡æœŸæé†’">8.7 æ–‡ç« è¿‡æœŸæé†’</h4><p>å¯è®¾ç½®æ˜¯å¦æ˜¾ç¤ºæ–‡ç« è¿‡æœŸæé†’ï¼Œä»¥æ›´æ–°æ—¶é—´ä¸ºåŸºå‡†ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Displays outdated notice for a post (æ–‡ç« è¿‡æœŸæé†’)</span></span><br><span class="line"><span class="attr">noticeOutdate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span> <span class="comment"># style: simple/flat</span></span><br><span class="line">  <span class="attr">limit_day:</span> <span class="number">365</span> <span class="comment"># è·ç¦»æ›´æ–°æ—¶é—´å¤šå°‘å¤©æ‰æ˜¾ç¤ºæ–‡ç« è¿‡æœŸæé†’</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span> <span class="comment"># position: top/bottom</span></span><br><span class="line">  <span class="attr">message_prev:</span> <span class="string">It</span> <span class="string">has</span> <span class="string">been</span> <span class="comment"># å¤©æ•°ä¹‹å‰çš„æ–‡å­—</span></span><br><span class="line">  <span class="attr">message_next:</span> <span class="string">days</span> <span class="string">since</span> <span class="string">the</span> <span class="string">last</span> <span class="string">update,</span> <span class="string">the</span> <span class="string">content</span> <span class="string">of</span> <span class="string">the</span> <span class="string">article</span> <span class="string">may</span> <span class="string">be</span> <span class="string">outdated.</span> <span class="comment"># å¤©æ•°ä¹‹åçš„æ–‡å­—</span></span><br></pre></td></tr></table></figure><h4 id="8-8-æ–‡ç« åˆ†é¡µæŒ‰é’®">8.8 æ–‡ç« åˆ†é¡µæŒ‰é’®</h4><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># post_pagination (åˆ†é¡µ)</span></span><br><span class="line"><span class="comment"># value: 1 || 2 || false# false:ä¸ºå…³é—­åˆ†é¡µæŒ‰é’®ï¼›1:ä¸‹ä¸€ç¯‡æ˜¾ç¤ºçš„æ˜¯æ—§æ–‡ç« ï¼›2:ä¸‹ä¸€ç¯‡æ˜¾ç¤ºçš„æ˜¯æ–°æ–‡ç« </span></span><br><span class="line"><span class="comment"># 1: The &#x27;next post&#x27; will link to old post</span></span><br><span class="line"><span class="comment"># 2: The &#x27;next post&#x27; will link to new post</span></span><br><span class="line"><span class="comment"># false: disable pagination</span></span><br><span class="line"><span class="attr">post_pagination:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="9-å¤´åƒ">9 å¤´åƒ</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">img:</span> <span class="string">/assets/head.jpg</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">false</span> <span class="comment"># trueåˆ™ä¼šä¸€ç›´è½¬åœˆ</span></span><br></pre></td></tr></table></figure><h3 id="10-å­—æ•°ç»Ÿè®¡">10 å­—æ•°ç»Ÿè®¡</h3><ol><li>å®‰è£…æ’ä»¶ï¼šåœ¨åšå®¢æ ¹ç›®å½•ï¼Œæ‰“å¼€cmdå‘½ä»¤çª—å£æ‰§è¡Œ<code>npm install hexo-wordcount --save</code>ã€‚</li><li>å¼€å¯é…ç½®ï¼šä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ä¸­çš„<code>wordcount</code>ã€‚</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="11-æœ¬åœ°æœç´¢ç³»ç»Ÿ">11 æœ¬åœ°æœç´¢ç³»ç»Ÿ</h3><ol><li><p>å®‰è£…ä¾èµ–ï¼šå‰å¾€åšå®¢æ ¹ç›®å½•ï¼Œæ‰“å¼€cmdå‘½ä»¤çª—å£æ‰§è¡Œ<code>npm install hexo-generator-search --save</code>ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure></li><li><p>æ³¨å…¥é…ç½®ï¼šä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶<code>_config.yml</code>ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li><li><p>ä¸»é¢˜ä¸­å¼€å¯æœç´¢ï¼šåœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ä¸­ä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li></ol><p>ç„¶åé‡æ–°ç¼–è¯‘è¿è¡Œå³å¯</p><h3 id="12-æ–‡ç« å†…å®¹å¤åˆ¶é…ç½®">12 æ–‡ç« å†…å®¹å¤åˆ¶é…ç½®</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># copy settings</span></span><br><span class="line"><span class="comment"># copyright: Add the copyright information after copied content (å¤åˆ¶çš„å†…å®¹åé¢åŠ ä¸Šç‰ˆæƒä¿¡æ¯)</span></span><br><span class="line"><span class="attr">copy:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span><span class="comment"># æ˜¯å¦å¼€å¯ç½‘ç«™å¤åˆ¶æƒé™</span></span><br><span class="line">  <span class="attr">copyright:</span><span class="comment"># å¤åˆ¶çš„å†…å®¹åé¢åŠ ä¸Šç‰ˆæƒä¿¡æ¯</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span><span class="comment"># æ˜¯å¦å¼€å¯å¤åˆ¶ç‰ˆæƒä¿¡æ¯æ·»åŠ </span></span><br><span class="line">    <span class="attr">limit_count:</span> <span class="number">50</span><span class="comment"># å­—æ•°é™åˆ¶ï¼Œå½“å¤åˆ¶æ–‡å­—å¤§äºè¿™ä¸ªå­—æ•°é™åˆ¶æ—¶ï¼Œå°†åœ¨å¤åˆ¶çš„å†…å®¹åé¢åŠ ä¸Šç‰ˆæƒä¿¡æ¯</span></span><br></pre></td></tr></table></figure><h3 id="13-Fotterè®¾ç½®">13 Fotterè®¾ç½®</h3><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2022</span><span class="comment"># ç«™ç‚¹èµ·å§‹æ—¶é—´</span></span><br><span class="line">  <span class="attr">custom_text:</span><span class="comment"># æ˜¯ä¸€ä¸ªç»™ä½ ç”¨æ¥åœ¨é¡µè„šè‡ªå®šä¹‰æ–‡æœ¬çš„é€‰é¡¹ã€‚é€šå¸¸ä½ å¯ä»¥åœ¨è¿™é‡Œå†™å£°æ˜æ–‡æœ¬ç­‰,æ”¯æŒ HTMLã€‚</span></span><br><span class="line">  <span class="attr">copyright:</span> <span class="literal">false</span> <span class="comment"># Copyright of theme and framework</span></span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">I</span> <span class="string">wish</span> <span class="string">you</span> <span class="string">to</span> <span class="string">become</span> <span class="string">your</span> <span class="string">own</span> <span class="string">sun,</span> <span class="literal">no</span> <span class="string">need</span> <span class="string">to</span> <span class="string">rely</span> <span class="string">on</span> <span class="string">who&#x27;s</span> <span class="string">light.&lt;p&gt;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://hexo.io/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo&quot;</span> <span class="string">title=&quot;åšå®¢æ¡†æ¶ä¸ºHexo&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://butterfly.js.org/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender&quot;</span> <span class="string">title=&quot;ä¸»é¢˜é‡‡ç”¨butterfly&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://www.jsdelivr.com/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr&quot;</span> <span class="string">title=&quot;æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ&quot;&gt;&lt;/a&gt;</span> <span class="string">&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://vercel.com/</span> <span class="string">&quot;&gt;&lt;img src=&quot;</span><span class="string">https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&amp;logo=Vercel&quot;</span> <span class="string">title=&quot;æœ¬ç«™é‡‡ç”¨åŒçº¿éƒ¨ç½²ï¼Œé»˜è®¤çº¿è·¯æ‰˜ç®¡äºVercel&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://vercel.com/</span> <span class="string">&quot;&gt;&lt;img src=&quot;</span><span class="string">https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&amp;logo=Codio&quot;</span> <span class="string">title=&quot;æœ¬ç«™é‡‡ç”¨åŒçº¿éƒ¨ç½²ï¼Œè”é€šçº¿è·¯æ‰˜ç®¡äºCoding&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;https://github.com/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub&quot;</span> <span class="string">title=&quot;æœ¬ç«™é¡¹ç›®ç”±Gtihubæ‰˜ç®¡&quot;&gt;&lt;/a&gt;&amp;nbsp;&lt;a</span> <span class="string">target=&quot;_blank&quot;</span> <span class="string">href=&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot;&gt;&lt;img</span> <span class="string">src=&quot;https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris&quot;</span> <span class="string">title=&quot;æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯&quot;&gt;&lt;/a&gt;&lt;/p&gt;</span></span><br></pre></td></tr></table></figure><p>å¯¹äºéƒ¨åˆ†äººéœ€è¦å†™ ICP çš„ï¼Œä¹Ÿå¯ä»¥å†™åœ¨custom_texté‡Œã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">&lt;a</span> <span class="string">href=&quot;icpé“¾æ¥&quot;&gt;&lt;img</span> <span class="string">class=&quot;icp-icon&quot;</span> <span class="string">src=&quot;icpå›¾ç‰‡&quot;&gt;&lt;span&gt;å¤‡æ¡ˆå·ï¼šxxxxxx&lt;/span&gt;&lt;/a&gt;</span></span><br></pre></td></tr></table></figure><h3 id="14-å³ä¸‹è§’æŒ‰é’®">14 å³ä¸‹è§’æŒ‰é’®</h3><h4 id="14-1-ç¹ç®€è½¬æ¢">14.1 ç¹ç®€è½¬æ¢</h4><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">translate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># é»˜è®¤æŒ‰é’®æ˜¾ç¤ºæ–‡å­—(ç½‘ç«™æ˜¯ç®€ä½“ï¼Œåº”è®¾ç½®ä¸º&#x27;default: ç¹&#x27;)</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">ç¹</span></span><br><span class="line">  <span class="comment"># the language of website (1 - Traditional Chinese/ 2 - Simplified Chineseï¼‰</span></span><br><span class="line">  <span class="comment"># ç½‘ç«™é»˜è®¤è¯­è¨€ï¼Œ1: ç¹ä½“ä¸­æ–‡, 2: ç®€ä½“ä¸­æ–‡</span></span><br><span class="line">  <span class="attr">defaultEncoding:</span> <span class="number">2</span></span><br><span class="line">  <span class="comment"># Time delay å»¶è¿Ÿæ—¶é—´,è‹¥ä¸åœ¨å‰, è¦è®¾å®šå»¶è¿Ÿç¿»è¯‘æ—¶é—´, å¦‚100è¡¨ç¤º100ms,é»˜è®¤ä¸º0</span></span><br><span class="line">  <span class="attr">translateDelay:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># å½“æ–‡å­—æ˜¯ç®€ä½“æ—¶ï¼ŒæŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—</span></span><br><span class="line">  <span class="attr">msgToTraditionalChinese:</span> <span class="string">&#x27;ç¹&#x27;</span></span><br><span class="line">  <span class="comment"># å½“æ–‡å­—æ˜¯ç¹ä½“æ—¶ï¼ŒæŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—</span></span><br><span class="line">  <span class="attr">msgToSimplifiedChinese:</span> <span class="string">&#x27;ç°¡&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="14-2-å¤œé—´æ¨¡å¼">14.2 å¤œé—´æ¨¡å¼</h4><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dark mode</span></span><br><span class="line"><span class="attr">darkmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># dark å’Œ light ä¸¤ç§æ¨¡å¼åˆ‡æ¢æŒ‰é’®</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Switch dark/light mode automatically (è‡ªå‹•åˆ‡æ› dark modeå’Œ light mode)</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 1  Following System Settings, if the system doesn&#x27;t support dark mode, it will switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</span></span><br><span class="line">  <span class="comment"># autoChangeMode: false</span></span><br><span class="line">  <span class="attr">autoChangeMode:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>v2.0.0 å¼€å§‹å¢åŠ ä¸€ä¸ªé€‰é¡¹ï¼Œå¯å¼€å¯è‡ªåŠ¨åˆ‡æ¢light mode å’Œ dark modeã€‚</p><ul><li><code>autoChangeMode: 1</code> è·Ÿéšç³»ç»Ÿè€Œå˜åŒ–ï¼Œä¸æ”¯æŒçš„æµè§ˆå™¨/ç³»ç»Ÿå°†æŒ‰ç…§æ—¶é—´æ™šä¸Š6ç‚¹åˆ°æ—©ä¸Š6ç‚¹ä¹‹é—´åˆ‡æ¢ä¸º dark modeã€‚</li><li><code>autoChangeMode: 2</code>åªæŒ‰ç…§æ—¶é—´ æ™šä¸Š6ç‚¹åˆ°æ—©ä¸Š6ç‚¹ä¹‹é—´åˆ‡æ¢ä¸º dark mode,å…¶ä½™æ—¶é—´ä¸ºlight modeã€‚</li><li><code>autoChangeMode: false</code> å–æ¶ˆè‡ªåŠ¨åˆ‡æ¢ã€‚</li></ul><h4 id="14-3-é˜…è¯»æ¨¡å¼">14.3 é˜…è¯»æ¨¡å¼</h4><p>é˜…è¯»æ¨¡å¼ä¸‹ä¼šå»æ‰é™¤æ–‡ç« å¤–çš„å†…å®¹ï¼Œé¿å…å¹²æ‰°é˜…è¯»ã€‚åªä¼šå‡ºç°åœ¨æ–‡ç« é¡µé¢ï¼Œå³ä¸‹è§’ä¼šæœ‰é˜…è¯»æ¨¡å¼æŒ‰é’®ã€‚</p><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">readmode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="15-ä¾§è¾¹æ è®¾ç½®">15 ä¾§è¾¹æ è®¾ç½®</h3><h4 id="15-1-æ’ç‰ˆ">15.1 æ’ç‰ˆ</h4><p>å¯è‡ªè¡Œå†³å®šå“ªä¸ªé¡¹ç›®éœ€è¦æ˜¾ç¤ºï¼Œå¯å†³å®šä½ç½®ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸æ˜¾ç¤ºä¾§è¾¹æ ã€‚</p><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ï¼Œä¸‹é¢ä¾‹å­å¯ä»¥å‚è€ƒ</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">archive:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">tag:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">category:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">description:</span></span><br><span class="line">    <span class="attr">button:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="comment"># fab fa-github</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">ğŸ›´å‰å¾€å°å®¶...</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://github.com/fomalhaut1998</span></span><br><span class="line">  <span class="attr">card_announcement:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">&lt;center&gt;ä¸»åŸŸåï¼š&lt;br&gt;&lt;a</span> <span class="string">href=&quot;https://www.fomal.cc&quot;&gt;&lt;b&gt;&lt;font</span> <span class="string">color=&quot;#5ea6e5&quot;&gt;fomal.cc&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&amp;nbsp;|&amp;nbsp;&lt;a</span> <span class="string">href=&quot;https://www.fomal.cn&quot;&gt;&lt;b&gt;&lt;font</span> <span class="string">color=&quot;#5ea6e5&quot;&gt;fomal.cn&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;å¤‡ç”¨åŸŸåï¼š&lt;br&gt;&lt;a</span> <span class="string">href=&quot;https://blog.fomal.cc&quot;&gt;&lt;b&gt;&lt;font</span> <span class="string">color=&quot;#5ea6e5&quot;&gt;blog.fomal.cc&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;&lt;a</span> <span class="string">href=&quot;https://aa.fomal.cc&quot;&gt;&lt;b&gt;&lt;font</span> <span class="string">color=&quot;#5ea6e5&quot;&gt;aa.fomal.cc&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;&lt;a</span> <span class="string">href=&quot;https://bb.fomal.cc&quot;&gt;&lt;b&gt;&lt;font</span> <span class="string">color=&quot;#5ea6e5&quot;&gt;bb.fomal.cc&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;br&gt;&lt;a</span> <span class="string">href=&quot;mailto:admin@fomal.cn&quot;&gt;ğŸ“¬ï¼š&lt;b&gt;&lt;font</span> <span class="string">color=&quot;#a591e0&quot;&gt;admin@fomal.cn&lt;/font&gt;&lt;/b&gt;&lt;/a&gt;&lt;/center&gt;</span></span><br><span class="line">  <span class="attr">card_recent_post:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">3</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort:</span> <span class="string">date</span> <span class="comment"># date or updated</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_categories:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">expand:</span> <span class="string">none</span> <span class="comment"># none/true/false</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_tags:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">20</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">color:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_archives:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">monthly</span> <span class="comment"># yearly or monthly</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">MMMM</span> <span class="string">YYYY</span> <span class="comment"># eg: YYYYå¹´MMæœˆ</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_webinfo:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">post_count:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">last_push_date:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_weibo:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="15-2-è®¿é—®äººæ•°">15.2 è®¿é—®äººæ•°</h4><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span>  <span class="comment"># æœ¬ç«™æ€»è®¿å®¢æ•°</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span>  <span class="comment"># æœ¬ç«™æ€»è®¿é—®é‡ </span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span>  <span class="comment"># æœ¬æ–‡æ€»é˜…è¯»é‡</span></span><br></pre></td></tr></table></figure><h4 id="15-3-è¿è¡Œæ—¶é—´">15.3 è¿è¡Œæ—¶é—´</h4><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Time difference between publish date and now (ç¶²é é‹è¡Œæ™‚é–“)</span></span><br><span class="line"><span class="comment">#Formal: Month/Day/Year Time or Year/Month/Day Time</span></span><br><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">publish_date:</span> <span class="number">8</span><span class="string">/9/2022</span> <span class="number">00</span><span class="string">:00:00</span></span><br><span class="line">  <span class="comment">##ç½‘é¡µå¼€é€šæ—¶é—´</span></span><br><span class="line">  <span class="comment">#æ ¼å¼: æœˆ/æ—¥/å¹´ æ—¶é—´</span></span><br><span class="line">  <span class="comment">#ä¹Ÿå¯ä»¥å†™æˆ å¹´/æœˆ/æ—¥ æ—¶é—´</span></span><br></pre></td></tr></table></figure><h4 id="15-4-æœ€æ–°è¯„è®º">15.4 æœ€æ–°è¯„è®º</h4><p>æœ€æ–°è¯„è®ºåªä¼šåœ¨åˆ·æ–°æ—¶æ‰ä¼šå»è¯»å–ï¼Œå¹¶ä¸ä¼šå®æ—¶å˜åŒ–ã€‚<br>ç”±äº API æœ‰ è®¿é—®æ¬¡æ•°é™åˆ¶ï¼Œä¸ºäº†é¿å…è°ƒç”¨å¤ªå¤šï¼Œä¸»é¢˜é»˜è®¤å­˜å–æœŸé™ä¸º 10 åˆ†é˜ã€‚ä¹Ÿå°±æ˜¯èª¬ï¼Œè°ƒç”¨åèµ„æ–™ä¼šå­˜åœ¨ <code>localStorage</code> é‡Œï¼Œ10åˆ†é˜å†…åˆ·æ–°ç½‘ç«™åªä¼šå» <code>localStorage</code> è¯»å–èµ„æ–™ã€‚ 10 åˆ†é˜æœŸé™ä¸€è¿‡ï¼Œåˆ·æ–°é¡µé¢æ—¶æ‰ä¼šå»è°ƒå– API è¯»å–æ–°çš„æ•°æ®ã€‚ï¼ˆ3.6.0 æ–°å¢äº† storage é…ç½®ï¼Œå¯è‡ªè¡Œé…ç½®ç¼“å­˜æ—¶é—´ï¼‰ã€‚</p><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Aside widget - Newest Comments</span></span><br><span class="line"><span class="attr">newest_comments:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span>  <span class="comment"># æ˜¾ç¤ºçš„æ•°é‡</span></span><br><span class="line">  <span class="attr">storage:</span> <span class="number">10</span> <span class="comment"># è®¾ç½®ç¼“å­˜æ—¶é—´ï¼Œå•ä½ åˆ†é’Ÿ </span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="literal">true</span> <span class="comment"># æ˜¯å¦æ˜¾ç¤ºå¤´åƒ</span></span><br></pre></td></tr></table></figure><h3 id="16-ç½‘ç«™èƒŒæ™¯">16 ç½‘ç«™èƒŒæ™¯</h3><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å›¾ç‰‡æ ¼å¼ url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="comment"># é¢œè‰²ï¼ˆHEXå€¼/RGBå€¼/é¢œè‰²å•è¯/æ¸å˜è‰²)</span></span><br><span class="line"><span class="comment"># ç•™ç©º ä¸æ˜¾ç¤ºèƒŒæ™¯</span></span><br><span class="line"><span class="attr">background:</span> <span class="string">url(https://source.fomal.cc/img/dm1.webp)</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸æ˜¯<code>'/'</code>ï¼Œä½¿ç”¨æœ¬åœ°å›¾ç‰‡æ—¶ï¼Œéœ€åŠ ä¸Šä½ çš„æ ¹ç›®å½•ã€‚<br>ä¾‹å¦‚ï¼šç½‘ç«™æ˜¯ <code>https://yoursite.com/blog</code>ï¼Œå¼•ç”¨ä¸€å¼ <code>img/xx.png</code>å›¾ç‰‡ï¼Œåˆ™è®¾ç½®<code>background</code>ä¸º <code>url(/blog/img/xx.png)</code></p><h3 id="17-æ‰“å­—æ•ˆæœ">17 æ‰“å­—æ•ˆæœ</h3><p>è¯¦è§ï¼š<a href="https://github.com/disjukr/activate-power-mode">activate-power-mode</a></p><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Typewriter Effect (æ‰“å­—æ•ˆæœ)</span></span><br><span class="line"><span class="comment"># https://github.com/disjukr/activate-power-mode</span></span><br><span class="line"><span class="attr">activate_power_mode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">colorful:</span> <span class="literal">true</span> <span class="comment"># open particle animation (å†’å…‰ç‰¹æ•ˆ)</span></span><br><span class="line">  <span class="attr">shake:</span> <span class="literal">true</span> <span class="comment">#  open shake (æŠ–å‹•ç‰¹æ•ˆ)</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="18-footerèƒŒæ™¯">18 footerèƒŒæ™¯</h3><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># footeræ˜¯å¦æ˜¾ç¤ºå›¾ç‰‡èƒŒæ™¯(ä¸top_imgä¸€è‡´)</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><ul><li><code>ç•™ç©º/false</code>ï¼šæ˜¾ç¤ºé»˜è®¤çš„é¢œè‰²</li><li><code>å›¾ç‰‡é“¾æ¥</code>ï¼šæ˜¾ç¤ºæ‰€é…ç½®çš„å›¾ç‰‡</li><li><code>é¢œè‰²åŒ…æ‹¬HEXå€¼ - #0000FF | RGBå€¼ - rgb(0,0,255) | é¢œè‰²å•è¯ - orange | æ¸å˜è‰² - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)</code>ï¼šå¯¹åº”çš„é¢œè‰²</li><li><code>true</code>ï¼šæ˜¾ç¤ºè·Ÿ top_img ä¸€æ ·</li></ul><h3 id="19-èƒŒæ™¯ç‰¹æ•ˆ">19 èƒŒæ™¯ç‰¹æ•ˆ</h3><p>å¯è®¾ç½®æ¯æ¬¡åˆ·æ–°æ›´æ¢å½©å¸¦ï¼Œæˆ–è€…æ¯æ¬¡ç‚¹å‡»æ›´æ¢å½©å¸¦ã€‚è¯¦ç»†é…ç½®å¯æŸ¥çœ‹<a href="https://github.com/hustcc/ribbon.js">canvas_ribbon</a></p><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">150</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">click_to_change:</span> <span class="literal">false</span>  <span class="comment">#è¨­ç½®æ˜¯å¦æ¯æ¬¡é»æ“Šéƒ½æ›´æ›å½©å¸¦</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment"># false æ‰‹æ©Ÿç«¯ä¸é¡¯ç¤º true æ‰‹æ©Ÿç«¯é¡¯ç¤º</span></span><br></pre></td></tr></table></figure><h3 id="20-é¼ æ ‡ç‚¹å‡»æ•ˆæœ">20 é¼ æ ‡ç‚¹å‡»æ•ˆæœ</h3><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç‚¹å‡»å‡ºç¾çˆ±å¿ƒ</span></span><br><span class="line"><span class="attr">click_heart:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="21-è‡ªå®šä¹‰å­—ä½“å’Œå­—ä½“å¤§å°">21 è‡ªå®šä¹‰å­—ä½“å’Œå­—ä½“å¤§å°</h3><h4 id="21-1-å…¨å±€å­—ä½“">21.1 å…¨å±€å­—ä½“</h4><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ä¸­çš„<code>font-family</code>å±æ€§å³å¯ï¼Œå¦‚ä¸éœ€è¦é…ç½®ï¼Œè¯·ç•™ç©ºã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Global font settings</span></span><br><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (éå¿…è¦ä¸è¦ä¿®æ”¹)</span></span><br><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">global-font-size:</span> <span class="string">&#x27;15px&#x27;</span></span><br><span class="line">  <span class="attr">code-font-size:</span> <span class="string">&#x27;14px&#x27;</span></span><br><span class="line">  <span class="comment"># -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot; , &quot;Helvetica Neue&quot; , Lato, Roboto, &quot;PingFang SC&quot; , &quot;Microsoft JhengHei&quot; , &quot;Microsoft YaHei&quot; , sans-serif</span></span><br><span class="line">  <span class="comment"># Wenkai, consolas, -apple-system, &#x27;Quicksand&#x27;, &#x27;Nimbus Roman No9 L&#x27;, &#x27;PingFang SC&#x27;, &#x27;Hiragino Sans GB&#x27;, &#x27;Noto Serif SC&#x27;, &#x27;Microsoft Yahei&#x27;, &#x27;WenQuanYi Micro Hei&#x27;, &#x27;ST Heiti&#x27;, sans-serif;</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">var(--global-font),</span> <span class="string">Consolas_1,</span> <span class="string">-apple-system,</span> <span class="string">&#x27;Quicksand&#x27;</span><span class="string">,</span> <span class="string">&#x27;Nimbus Roman No9 L&#x27;</span><span class="string">,</span> <span class="string">&#x27;PingFang SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Hiragino Sans GB&#x27;</span><span class="string">,</span> <span class="string">&#x27;Noto Serif SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft Yahei&#x27;</span><span class="string">,</span> <span class="string">&#x27;WenQuanYi Micro Hei&#x27;</span><span class="string">,</span> <span class="string">&#x27;ST Heiti&#x27;</span><span class="string">,</span> <span class="string">sans-serif;</span></span><br><span class="line">  <span class="comment"># consolas, ZhuZiAWan_light, &quot;Microsoft YaHei&quot;, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft JhengHei&quot;, sans-serif</span></span><br><span class="line">  <span class="comment"># Consolas_1, ZhuZiAWan_light, &quot;Microsoft YaHei&quot;, Menlo, &quot;PingFang SC&quot;, &quot;Microsoft JhengHei&quot;, sans-serif</span></span><br><span class="line">  <span class="attr">code-font-family:</span> <span class="string">Consolas_1,</span> <span class="string">var(--global-font),</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">Menlo,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span></span><br></pre></td></tr></table></figure><h4 id="21-2-Blogæ ‡é¢˜å­—ä½“">21.2 Blogæ ‡é¢˜å­—ä½“</h4><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ä¸­çš„<code>blog_title_font</code>å±æ€§å³å¯ï¼Œå¦‚ä¸éœ€è¦é…ç½®ï¼Œè¯·ç•™ç©ºã€‚<br>å¦‚ä¸éœ€è¦ä½¿ç”¨ç½‘ç»œå­—ä½“ï¼Œåªéœ€è¦æŠŠfont_linkç•™ç©ºå°±è¡Œã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Font settings for the site title and site subtitle</span></span><br><span class="line"><span class="comment"># https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap</span></span><br><span class="line"><span class="comment"># Titillium Web, &#x27;PingFang SC&#x27; , &#x27;Hiragino Sans GB&#x27; , &#x27;Microsoft JhengHei&#x27; , &#x27;Microsoft YaHei&#x27; , sans-serif</span></span><br><span class="line"><span class="comment"># å·¦ä¸Šè§’ç¶²ç«™åå­— ä¸»é å±…ä¸­ç¶²ç«™åå­—</span></span><br><span class="line"><span class="attr">blog_title_font:</span></span><br><span class="line">  <span class="attr">font_link:</span> </span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">var(--global-font)</span></span><br></pre></td></tr></table></figure><h3 id="22-ç½‘ç«™å‰¯æ ‡é¢˜">22 ç½‘ç«™å‰¯æ ‡é¢˜</h3><p>å¯è®¾ç½®ä¸»é¡µä¸­æ˜¾ç¤ºçš„ç½‘ç«™å‰¯æ ‡é¢˜æˆ–è€…å–œæ¬¢çš„åº§å³é“­ã€‚</p><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ä¸­çš„<code>subtitle</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># the subtitle on homepage (ä¸»é subtitle)</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Typewriter Effect (æ‰“å­—æ•ˆæœ)</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># loop (å¾ªç’°æ‰“å­—)</span></span><br><span class="line">  <span class="attr">loop:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># source èª¿ç”¨ç¬¬ä¸‰æ–¹æœå‹™</span></span><br><span class="line">  <span class="comment"># source: false é—œé–‰èª¿ç”¨</span></span><br><span class="line">  <span class="comment"># source: 1  èª¿ç”¨ä¸€è¨€ç¶²çš„ä¸€å¥è©±ï¼ˆç°¡é«”ï¼‰ https://hitokoto.cn/</span></span><br><span class="line">  <span class="comment"># source: 2  èª¿ç”¨ä¸€å¥ç¶²ï¼ˆç°¡é«”ï¼‰ http://yijuzhan.com/</span></span><br><span class="line">  <span class="comment"># source: 3  èª¿ç”¨ä»Šæ—¥è©©è©ï¼ˆç°¡é«”ï¼‰ https://www.jinrishici.com/</span></span><br><span class="line">  <span class="comment"># subtitle æœƒå…ˆé¡¯ç¤º source , å†é¡¯ç¤º sub çš„å…§å®¹</span></span><br><span class="line">  <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># å¦‚æœé—œé–‰æ‰“å­—æ•ˆæœï¼Œsubtitle åªæœƒé¡¯ç¤º sub çš„ç¬¬ä¸€è¡Œæ–‡å­—</span></span><br><span class="line">  <span class="attr">sub:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;Welcome to FomalhautğŸ¥ã®Tiny Home!ğŸ¤£ğŸ¤£ğŸ¤£&quot;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;Hope you have a nice day!ğŸ­ğŸ­ğŸ­&quot;</span></span><br></pre></td></tr></table></figure><h3 id="23-é¡µé¢åŠ è½½åŠ¨ç”»">23 é¡µé¢åŠ è½½åŠ¨ç”»</h3><p>å½“è¿›å…¥ç½‘é¡µæ—¶ï¼Œå› ä¸ºåŠ è½½é€Ÿåº¦çš„é—®é¢˜ï¼Œå¯èƒ½ä¼šå¯¼è‡´top_imgå›¾ç‰‡å‡ºç°æ–­å±‚æ˜¾ç¤ºï¼Œæˆ–è€…ç½‘é¡µåŠ è½½ä¸å…¨è€Œå‡ºç°ç­‰å¾…æ—¶é—´ï¼Œå¼€å¯preloaderåï¼Œä¼šæ˜¾ç¤ºåŠ è½½åŠ¨ç”»ï¼Œç­‰é¡µé¢åŠ è½½å®Œï¼ŒåŠ è½½åŠ¨ç”»ä¼šæ¶ˆå¤±ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½åŠ¨ç”» Loading Animation</span></span><br><span class="line"><span class="attr">preloader:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="24-å›¾ç‰‡å¤§å›¾æŸ¥çœ‹æ¨¡å¼">24 å›¾ç‰‡å¤§å›¾æŸ¥çœ‹æ¨¡å¼</h3><p>åªèƒ½å¼€å¯ä¸€ä¸ªã€‚<br>å¦‚æœä½ å¹¶ä¸æƒ³ä¸ºæŸå¼ å›¾ç‰‡æ·»åŠ å¤§å›¾æŸ¥çœ‹æ¨¡å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ html æ ¼å¼å¼•ç”¨å›¾ç‰‡ï¼Œå¹¶ä¸ºå›¾ç‰‡æ·»åŠ  no-lightbox class åï¼Œä¾‹å¦‚ï¼š<code>&lt;img src=&quot;xxxx.jpg&quot; class=&quot;no-lightbox&quot;&gt;</code>ã€‚</p><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶<code>_config.butterfly.yml</code>ä¸­<code>fancybox</code>å±æ€§</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fancybox http://fancyapps.com/fancybox/3/</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="25-Pjax">25 Pjax</h3><p>å½“ç”¨æˆ·ç‚¹å‡»é“¾æ¥ï¼Œé€šè¿‡ <code>ajax</code> æ›´æ–°é¡µé¢éœ€è¦å˜åŒ–çš„éƒ¨åˆ†ï¼Œç„¶åä½¿ç”¨ HTML5 çš„ <code>pushState</code> ä¿®æ”¹æµè§ˆå™¨çš„ URL åœ°å€ã€‚è¿™æ ·å¯ä»¥ä¸ç”¨é‡å¤åŠ è½½ç›¸åŒçš„èµ„æº<code>ï¼ˆcss/jsï¼‰</code>ï¼Œ ä»è€Œæå‡ç½‘é¡µçš„åŠ è½½é€Ÿåº¦ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pjax [Beta]</span></span><br><span class="line"><span class="comment"># It may contain bugs and unstable, give feedback when you find the bugs.</span></span><br><span class="line"><span class="comment"># https://github.com/MoOx/pjax</span></span><br><span class="line"><span class="attr">pjax:</span> </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># å¯¹äºä¸€äº›ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œæœ‰äº›å¹¶ä¸æ”¯æŒ pjax ã€‚</span></span><br><span class="line">  <span class="comment"># ä½ å¯ä»¥æŠŠç½‘é¡µåŠ å…¥åˆ° exclude é‡Œï¼Œè¿™ä¸ªç½‘é¡µä¼šè¢« pjax æ’é™¤åœ¨å¤–ã€‚</span></span><br><span class="line">  <span class="comment"># ç‚¹å‡»è¯¥ç½‘é¡µä¼šé‡æ–°åŠ è½½ç½‘ç«™ã€‚</span></span><br><span class="line">  <span class="attr">exclude:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">/music/</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/no-pjax/</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šä½¿ç”¨ pjax åï¼Œä¸€äº›è‡ªå·±DIYçš„jså¯èƒ½ä¼šæ— æ•ˆï¼Œè·³è½¬é¡µé¢æ—¶éœ€è¦é‡æ–°è°ƒç”¨ï¼ˆä¾‹å¦‚æœ‹å‹åœˆã€è¯´è¯´ç­‰ï¼‰ï¼Œå…·ä½“è¯·å‚è€ƒ<a href="https://github.com/MoOx/pjax">Pjaxæ–‡æ¡£</a>ã€‚</p><h3 id="26-Inject">26 Inject</h3><p>å¦‚æƒ³æ·»åŠ é¢å¤–çš„ js/css/meta ç­‰ç­‰ä¸œè¥¿ï¼Œå¯ä»¥åœ¨ Inject é‡Œæ·»åŠ ï¼Œhead(<code>&lt;/body&gt;</code>æ ‡ç­¾ä¹‹å‰)ï¼Œ bottom(<code>&lt;/html&gt;</code>æ ‡ç­¾ä¹‹å‰)ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject</span></span><br><span class="line"><span class="comment"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span></span><br><span class="line"><span class="comment"># æ’å…¥ä»£ç åˆ°å¤´éƒ¨ &lt;/head&gt; ä¹‹å‰ å’Œ åº•éƒ¨ &lt;/body&gt; ä¹‹å‰</span></span><br><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/xxx.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">butteryflyçš„åŸºæœ¬è®¾ç½®</summary>
    
    
    
    <category term="åšå®¢æ­å»º" scheme="https://codegao.cc/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="butteryfly" scheme="https://codegao.cc/tags/butteryfly/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢æ­å»º(ä¸‰)_å®‰è£…Butterflyä¸»é¢˜</title>
    <link href="https://codegao.cc/posts/62ce6679.html"/>
    <id>https://codegao.cc/posts/62ce6679.html</id>
    <published>2023-01-03T05:30:00.000Z</published>
    <updated>2023-03-13T02:39:30.467Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¸‹è½½ä¸»é¢˜">ä¸‹è½½ä¸»é¢˜</h3><p>ä½¿ç”¨npmæ–¹å¼å®‰è£…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-theme-butterfly</span><br></pre></td></tr></table></figure><blockquote><p>å®‰è£…å¥½åå¯ä»¥åœ¨åšå®¢æ–‡ä»¶å¤¹æ ¹ç›®å½•çš„node_modulesä¸‹æ‰¾åˆ°hexo-theme-butterflyæ–‡ä»¶å¤¹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬butterflyçš„ä¸»é¢˜å•¦</p></blockquote><h3 id="ä¸»é¢˜åº”ç”¨">ä¸»é¢˜åº”ç”¨</h3><p>â‘ åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨buftteryä¸»é¢˜<br>ä¿®æ”¹<code>_config.yml</code>æ–‡ä»¶ä¸­çš„themeé€‰é¡¹</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸‰)_å®‰è£…Butterflyä¸»é¢˜/1.png"/></div></div><p>â‘¡å®‰è£…butterflyéœ€è¦çš„æ¸²æŸ“å™¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><p>â‘¢æ–°å»ºä¸€ä¸ªbutterflyä¸»é¢˜é…ç½®æ–‡ä»¶(ä¸æ˜¯å¿…é¡»)</p><p>å°†åŸæœ‰çš„é…ç½®æ–‡ä»¶å¤åˆ¶ä¸€ä»½å¹¶é‡å‘½åä¸º<code>_config.butterfly.yml</code><br>åç»­æˆ‘ä»¬çš„ç›´æ¥æ”¹è¿™ä¸ªé…ç½®å°±å¯ä»¥äº†</p><p>â‘£æ¥ç€æˆ‘ä»¬å¯åŠ¨é¡¹ç›®</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#å…ˆæ¸…ç†</span></span></span><br><span class="line">hexo clean</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#å†æ„å»º</span></span></span><br><span class="line">hexo g</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#å¯åŠ¨</span></span></span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬è®¿é—®æœ¬åœ°ç«¯å£å°±å¯ä»¥çœ‹åˆ°ä¸»é¢˜å·²ç»ä¿®æ”¹å¥½å•¦</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸‰)_å®‰è£…Butterflyä¸»é¢˜/2.png"/></div></div><h3 id="ä¸»é¢˜ä½¿ç”¨">ä¸»é¢˜ä½¿ç”¨</h3><h4 id="1-æ–°å»ºæ–‡ç« ">1.æ–°å»ºæ–‡ç« </h4><p>æˆ‘ä»¬å¯ä»¥åˆ é™¤åŸæ¥çš„HelloWorldæ–‡ç« <br>åœ¨åšå®¢æ ¹ç›®å½•/source/_postsæ–‡ä»¶å¤¹ä¸‹æˆ‘ä»¬å¯ä»¥åˆ é™¤ã€æ–°å»ºæ–‡ç« <br>æ–°å»ºæ–‡ç« åªéœ€è¦æ–°å»ºä¸€ä¸ª.mdæ–‡ä»¶å³å¯ï¼Œæ¨èä½¿ç”¨typoraå†™æ–‡ç« </p><h4 id="2-æ·»åŠ æ–‡ç« å¤´">2.æ·»åŠ æ–‡ç« å¤´</h4><p>hexoåšå®¢æ˜¯éœ€è¦ä¸€ä¸ªå¤´ä¿¡æ¯æ¥è¡¨ç¤ºæ–‡ç« ä¿¡æ¯çš„</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:æ–‡ç« æ ‡é¢˜</span><br><span class="line">date:åˆ›å»ºæ—¥æœŸ</span><br><span class="line">updated:ä¿®æ”¹æ—¥æœŸ</span><br><span class="line">tags:æ ‡ç­¾</span><br><span class="line">categories:åˆ†ç±»</span><br><span class="line">keywords:å…³é”®å­—</span><br><span class="line">description:æè¿°</span><br><span class="line">top<span class="emphasis">_img:æ–‡ç« é¡¶éƒ¨å›¾ç‰‡</span></span><br><span class="line"><span class="emphasis">comments:æ–‡ç« ç¼©ç•¥å›¾(å¦‚æœæ²¡æœ‰è®¾ç½®top_</span>img,æ–‡ç« é¡µé¡¶éƒ¨å°†æ˜¾ç¤ºç¼©ç•¥å›¾ï¼Œå¯è®¾ä¸ºfalse/å›¾ç‰‡åœ°å€/ç•™ç©º)</span><br><span class="line">cover:æ˜¾ç¤ºæ–‡ç« è¯„è®ºæ¨¡å—(é»˜è®¤ true)</span><br><span class="line">toc:æ˜¾ç¤ºæ–‡ç« TOC(é»˜è®¤ä¸ºè®¾ç½®ä¸­tocçš„enableé…ç½®)</span><br><span class="line">toc<span class="emphasis">_number:æ˜¾ç¤ºtoc_</span>number(é»˜è®¤ä¸ºè®¾ç½®ä¸­tocçš„numberé…ç½®)</span><br><span class="line">toc<span class="emphasis">_style_</span>simple:æ˜¾ç¤º toc ç®€æ´æ¨¡å¼</span><br><span class="line">copyright:æ˜¾ç¤ºæ–‡ç« ç‰ˆæƒæ¨¡å—(é»˜è®¤ä¸ºè®¾ç½®ä¸­post<span class="emphasis">_copyrightçš„enableé…ç½®)</span></span><br><span class="line"><span class="emphasis">copyright_</span>author:æ–‡ç« ç‰ˆæƒæ¨¡å—çš„æ–‡ç« ä½œè€…</span><br><span class="line">copyright<span class="emphasis">_author_</span>href:æ–‡ç« ç‰ˆæƒæ¨¡å—çš„æ–‡ç« ä½œè€…é“¾æ¥</span><br><span class="line">copyright<span class="emphasis">_url:æ–‡ç« ç‰ˆæƒæ¨¡å—çš„æ–‡ç« è¿ç»“é“¾æ¥</span></span><br><span class="line"><span class="emphasis">copyright_</span>info:æ–‡ç« ç‰ˆæƒæ¨¡å—çš„ç‰ˆæƒå£°æ˜æ–‡å­—</span><br><span class="line">mathjax:æ˜¾ç¤ºmathjax(å½“è®¾ç½®mathjaxçš„per<span class="emphasis">_page: falseæ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false)</span></span><br><span class="line"><span class="emphasis">katex:æ˜¾ç¤ºkatex(å½“è®¾ç½®katexçš„per_</span>page: falseæ—¶ï¼Œæ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ false)</span><br><span class="line">aplayer:åœ¨éœ€è¦çš„é¡µé¢åŠ è½½aplayerçš„jså’Œcss,è¯·å‚è€ƒæ–‡ç« ä¸‹é¢çš„éŸ³ä¹ é…ç½®</span><br><span class="line">highlight<span class="emphasis">_shrink:é…ç½®ä»£ç æ¡†æ˜¯å¦å±•å¼€(true/false)(é»˜è®¤ä¸ºè®¾ç½®ä¸­highlight_</span>shrinkçš„é…ç½®)</span><br><span class="line"><span class="section">aside:æ˜¾ç¤ºä¾§è¾¹æ  (é»˜è®¤ true)</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬åªéœ€è¦ç”¨åˆ°titleã€dateã€updatedã€tagsã€categories</p><h4 id="3-æ·»åŠ æ ‡ç­¾é¡µ">3.æ·»åŠ æ ‡ç­¾é¡µ</h4><p>â‘ åœ¨åšå®¢æ ¹ç›®å½•æ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure><p>â‘¡æ‰§è¡Œå®Œå‘½ä»¤åä¼šåœ¨/source/tagsä¸‹ç”Ÿæˆindex.mdæ–‡ä»¶<br><a href="http://xn--index-088bl532a7u9a.md">â‘¢ä¿®æ”¹index.md</a>ï¼Œæ·»åŠ <code>type: &quot;tags&quot;</code></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title: tags</span><br><span class="line">date: 2022-12-30 11:07:03</span><br><span class="line">type: &quot;tags&quot;</span><br></pre></td></tr></table></figure><h4 id="4-æ·»åŠ å‹æƒ…é“¾æ¥">4.æ·»åŠ å‹æƒ…é“¾æ¥</h4><p>â‘ åœ¨åšå®¢æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page link</span><br></pre></td></tr></table></figure><p>â‘¡æ‰§è¡Œå®Œå‘½ä»¤åä¼šåœ¨/source/linkä¸‹ç”Ÿæˆindex.mdæ–‡ä»¶<br>â‘¢ä¿®æ”¹è¿™ä¸ªindex.mdæ–‡ä»¶ï¼Œæ·»åŠ <code>type: &quot;link&quot;</code></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: link</span><br><span class="line">date: 2022-12-30 11:16:08</span><br><span class="line"><span class="section">type: &quot;link&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><p>â‘£åœ¨/source/_dataä¸‹åˆ›å»ºä¸€ä¸ª<code>link.yml</code>æ–‡ä»¶(å¦‚æœæ²¡æœ‰<code>_data</code>æ–‡ä»¶å¤¹ï¼Œè‡ªå·±åˆ›å»ºï¼Œå¹¶å†™å…¥ä»¥ä¸‹ä¿¡æ¯)</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="number">1</span><span class="string">.æŠ€æœ¯æ”¯æŒ</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">æœ¬ç½‘ç«™çš„æ­å»ºç”±ä»¥ä¸‹å¼€æºä½œè€…æä¾›æŠ€æœ¯æ”¯æŒ</span></span><br><span class="line">  <span class="attr">link_list:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span> </span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://hexo.io/zh-cn/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">å¿«é€Ÿã€ç®€å•ä¸”å¼ºå¤§çš„ç½‘å¿—æ¡†æ¶</span></span><br><span class="line">      <span class="attr">siteshot:</span> <span class="string">https://source.fomal.cc/siteshot/hexo.io.jpg</span></span><br><span class="line">      </span><br><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="number">2</span><span class="string">.å‹æƒ…é“¾æ¥</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">ä¸€äº›å¥½æœ‹å‹~~</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">FomalhautğŸ¥</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://fomal.cc/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">/assets/head.jpg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">Future</span> <span class="string">is</span> <span class="string">now</span> <span class="string">ğŸ­ğŸ­ğŸ­</span></span><br><span class="line">      <span class="attr">siteshot:</span> <span class="string">https://source.fomal.cc/siteshot/www.fomal.cn.jpg</span></span><br></pre></td></tr></table></figure><h4 id="5-æ’å…¥å›¾ç‰‡">5.æ’å…¥å›¾ç‰‡</h4><p>â‘ é…ç½®æ–‡ä»¶ä¿®æ”¹<br>æŠŠ<code>_config.yml</code>ä¸­çš„ï¼š<code>post_asset_folder</code>æ”¹ä¸ºtrue<br>â‘¡å®‰è£…æ’ä»¶<br><code>npm install https://github.com/CodeFalling/hexo-asset-image -- save</code><br>â‘¢ç”Ÿæˆæ–‡ç« <br>ä½¿ç”¨å‘½ä»¤ç”Ÿæˆæ–‡ç« ï¼š<code>hexo new postName</code><br>ç”Ÿæˆå¥½åä¼šåœ¨/source/_postsæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆä¸€ä¸ª.mdçš„æ–‡ç« å’Œä¸€ä¸ªåŒåçš„æ–‡ä»¶å¤¹ç”¨æ¥å­˜æ”¾å›¾ç‰‡<br>â‘£æ·»åŠ æ–‡ç« çš„æ—¶å€™ç›´æ¥å†™æ–‡ä»¶å¤¹/å›¾ç‰‡åå°±å¯ä»¥ï¼Œä¾‹å¦‚<code>![](test/1.png)</code></p><p>â‘¤typoraè®¾ç½®</p><p>åœ¨æ–‡ä»¶-&gt;åå¥½è®¾ç½®ä¸­ï¼Œè®¾ç½®å¤åˆ¶åˆ°æŒ‡å®šè·¯å¾„</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸‰)_å®‰è£…Butterflyä¸»é¢˜/image-20230104093324947.png"/></div></div><p>æˆ‘ä»¬åœ¨typoraå¤åˆ¶å›¾ç‰‡æ—¶å°±ä¼šç›´æ¥æ”¾åˆ°hexoç”Ÿæˆçš„å›¾ç‰‡æ–‡ä»¶å¤¹ä¸‹å•¦</p>]]></content>
    
    
    <summary type="html">ä¸»é¢˜å®‰è£…åŠåŸºæœ¬é…ç½®</summary>
    
    
    
    <category term="åšå®¢æ­å»º" scheme="https://codegao.cc/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="butteryfly" scheme="https://codegao.cc/tags/butteryfly/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢æ­å»º(äºŒ)_Verceléƒ¨ç½²</title>
    <link href="https://codegao.cc/posts/7682ebb9.html"/>
    <id>https://codegao.cc/posts/7682ebb9.html</id>
    <published>2022-12-31T01:30:00.000Z</published>
    <updated>2023-03-13T02:31:53.017Z</updated>
    
    <content type="html"><![CDATA[<h3 id="éƒ¨ç½²åˆ°Vercel">éƒ¨ç½²åˆ°Vercel</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬æŠŠé¡¹ç›®éƒ¨ç½²åˆ°Vercel</p><blockquote><p>Vercelç®€ä»‹ï¼š<a href="https://vercel.com/">vercel</a>æ˜¯ä¸€ä¸ªä»£ç æ‰˜ç®¡å¹³å°ï¼Œå®ƒèƒ½å¤Ÿæ‰˜ç®¡ä½ çš„é™æ€htmlç•Œé¢ï¼Œç”šè‡³èƒ½å¤Ÿæ‰˜ç®¡ä½ çš„node.jsä¸PythonæœåŠ¡ç«¯è„šæœ¬ï¼Œæ˜¯ä¸æƒ³ä¹°æœåŠ¡å™¨çš„æ‡’äººçš„ç¦éŸ³ï¼</p></blockquote><p>â‘ é¦–å…ˆç™»é™†å®˜ç½‘ï¼Œå…³è”githubè´¦æˆ·</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(äºŒ)_Verceléƒ¨ç½²/1.png"/></div></div><p>â‘¡é€‰æ‹©Add Newä¸‹é¢çš„Project</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(äºŒ)_Verceléƒ¨ç½²/2.png"/></div></div><p>â‘¢ç„¶åå¯¼å…¥æˆ‘ä»¬éƒ¨ç½²åˆ°githubçš„é¡¹ç›®</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(äºŒ)_Verceléƒ¨ç½²/3.png"/></div></div><p>â‘£å¯ä»¥æ”¹ä¸ªåå­—ï¼Œç„¶åéƒ¨ç½²</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(äºŒ)_Verceléƒ¨ç½²/4.png"/></div></div><p>â‘¤è¿™æ ·å°±éƒ¨ç½²æˆåŠŸå•¦</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(äºŒ)_Verceléƒ¨ç½²/5.png"/></div></div><h3 id="é…ç½®åŸŸåè§£æ">é…ç½®åŸŸåè§£æ</h3><p>â‘ å…ˆæ‰“å¼€Dashboardæ§åˆ¶å°</p><p>â‘¡å†ç‚¹å‡»View Domain</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(äºŒ)_Verceléƒ¨ç½²/6.png"/></div></div><p>â‘¡è¾“å…¥æˆ‘ä»¬è´­ä¹°çš„åŸŸåå¹¶ç‚¹å‡»ADD</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(äºŒ)_Verceléƒ¨ç½²/7.png"/></div></div><p>â‘¢éœ€è¦æˆ‘ä»¬é…ç½®ä¸€ä¸‹åŸŸåè§£æ</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(äºŒ)_Verceléƒ¨ç½²/8.png"/></div></div><p>â‘£åœ¨é˜¿é‡Œäº‘åŸŸåè§£æçš„èœå•æ·»åŠ è®°å½•</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(äºŒ)_Verceléƒ¨ç½²/image-20230105174025569.png"/></div></div><p>â‘¤æŠŠVercelæä¾›çš„ä¸‰ä¸ªå€¼å¡«å…¥å…¶ä¸­</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(äºŒ)_Verceléƒ¨ç½²/9.png"/></div></div><p>â‘¥åŸŸåè®¿é—®</p><p>ç­‰å¾…Vercelæ ¡éªŒå®Œæ¯•å°±å¯ä»¥è®¿é—®äº†</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(äºŒ)_Verceléƒ¨ç½²/11.png"/></div></div>]]></content>
    
    
    <summary type="html">éƒ¨ç½²åˆ°Vercelå¹¶é…ç½®åŸŸåè§£æ</summary>
    
    
    
    <category term="åšå®¢æ­å»º" scheme="https://codegao.cc/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="hexo" scheme="https://codegao.cc/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢æ­å»º(ä¸€)_hexoåšå®¢æ­å»º</title>
    <link href="https://codegao.cc/posts/62888507.html"/>
    <id>https://codegao.cc/posts/62888507.html</id>
    <published>2022-12-30T01:30:00.000Z</published>
    <updated>2023-03-13T02:23:52.304Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘æŒ‰ç…§æˆ‘ä¸ªäººæ­å»ºåšå®¢çš„æ­¥éª¤ï¼Œæ•´ç†äº†è¿™è¾¹æ–‡ç« <br>ä¸»è¦æ˜¯åœ¨windwosä¸Šæ­å»ºçš„<br>éƒ¨ç½²åˆ°github pagesä¸Šé¢ï¼Œå¦‚æœè§‰å¾—githubä¸æ–¹ä¾¿ï¼Œgiteeä¹Ÿæ˜¯å¯ä»¥çš„</p><h3 id="1-Nodeå®‰è£…">1.Nodeå®‰è£…</h3><h3 id="2-Hexoå®‰è£…">2.Hexoå®‰è£…</h3><p>nodeå®‰è£…å¥½åå¯ä»¥ç›´æ¥å®‰è£…Hexo</p><p>æ‰“å¼€cmdè¾“å…¥å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>å®‰è£…å¥½åå¯ä»¥<code>hexo -v</code>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸€)_hexoåšå®¢æ­å»º/1.png"/></div></div><h3 id="3-githubæ³¨å†Œå¹¶åˆ›å»ºä»“åº“">3.githubæ³¨å†Œå¹¶åˆ›å»ºä»“åº“</h3><p>githubæ³¨å†Œå°±ä¸å¤šè¯´äº†ï¼ŒæŒ‰ç…§æ­¥éª¤æ³¨å†Œå°±å¥½<br>æˆ‘ä»¬ä¸»è¦è¯´ä¸€ä¸‹åˆ›å»ºä»“åº“</p><p>â‘ ç‚¹å‡»å³ä¸Šè§’çš„åŠ å·ï¼ŒNew repostoryå°±å¯ä»¥æ–°å»ºä»“åº“äº†</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸€)_hexoåšå®¢æ­å»º/2.png"/></div></div><p>â‘¡ä»“åº“è®¾ç½®</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸€)_hexoåšå®¢æ­å»º/3.png"/></div></div><p>é¦–å…ˆï¼Œå¦‚æœè¦ä½¿ç”¨Github PagesæœåŠ¡çš„è¯ï¼Œ<strong>ä»“åº“åç§°å¿…é¡»æ˜¯<code>ç”¨æˆ·å.github.io</code></strong></p><p>æè¿°éšä¾¿å†™ä¸€ä¸‹å°±å¥½</p><p>ä»“åº“æƒé™ä¸€å®šè¦æ˜¯å…¬å¼€çš„</p><p>å¯ä»¥æ·»åŠ ä¸€ä¸ªREADME</p><h3 id="4-gitå®‰è£…">4.gitå®‰è£…</h3><p>å®˜ç½‘ï¼š<a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a> ï¼Œä¸‹è½½æœ€æ–°ç‰ˆæœ¬å³å¯</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸€)_hexoåšå®¢æ­å»º/4.png"/></div></div><p>å®‰è£…ä¸€è·¯Nextå³å¯<br>å®‰è£…å¥½åï¼Œå•å‡»é¼ æ ‡å³é”®å°±å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªgitçš„ç¨‹åºäº†</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸€)_hexoåšå®¢æ­å»º/5.png"/></div></div><p>æˆ‘ä»¬ç‚¹å‡»Git Bash<br>è¾“å…¥<code>git --version</code>å°±å¯ä»¥æŸ¥çœ‹gitç‰ˆæœ¬äº†</p><p>åé¢æˆ‘ä»¬æ‰§è¡Œå‘½ä»¤éƒ½å¯ä»¥ä½¿ç”¨git bash</p><p>æˆ‘ä»¬è¿˜å¯ä»¥é…ç½®gitç”¨æˆ·ä¿¡æ¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;ä½ çš„ç”¨æˆ·å&quot;</span><br><span class="line">git config --global user.email &quot;ä½ çš„é‚®ç®±&quot;</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸€)_hexoåšå®¢æ­å»º/6.png"/></div></div><h3 id="5-åˆå§‹åŒ–Hexoé¡¹ç›®">5.åˆå§‹åŒ–Hexoé¡¹ç›®</h3><p>â‘ åˆå§‹åŒ–hexo<br>é€‰æ‹©ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œç„¶åæ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blogTest(é¡¹ç›®å)</span><br></pre></td></tr></table></figure><p>â‘¡è¿›å…¥åˆšåˆšåˆ›å»ºçš„æ–‡ä»¶å¤¹ï¼Œå®‰è£…ä¾èµ–</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd blogTest  //è¿›å…¥blogTestæ–‡ä»¶å¤¹</span><br><span class="line">npm i</span><br></pre></td></tr></table></figure><p>å®‰è£…å¥½åï¼Œç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸€)_hexoåšå®¢æ­å»º/7.png"/></div></div><p>ã€node_modulesã€‘ï¼šä¾èµ–åŒ…<br>ã€scaffoldsã€‘ï¼šç”Ÿæˆæ–‡ç« çš„ä¸€äº›æ¨¡æ¿<br>ã€sourceã€‘ï¼šç”¨æ¥å­˜æ”¾ä½ çš„æ–‡ç« <br>ã€themesã€‘ï¼šä¸»é¢˜<br>ã€.npmignoreã€‘ï¼šå‘å¸ƒæ—¶å¿½ç•¥çš„æ–‡ä»¶ï¼ˆå¯å¿½ç•¥ï¼‰<br>ã€_config.landscape.ymlã€‘ï¼šä¸»é¢˜çš„é…ç½®æ–‡ä»¶<br>ã€config.ymlã€‘ï¼šåšå®¢çš„é…ç½®æ–‡ä»¶<br>ã€package.jsonã€‘ï¼šé¡¹ç›®åç§°ã€æè¿°ã€ç‰ˆæœ¬ã€è¿è¡Œå’Œå¼€å‘ç­‰ä¿¡æ¯</p><p>â‘¢æœ¬åœ°å¯åŠ¨</p><p>è¾“å…¥<code>hexo s</code>å‘½ä»¤ï¼Œæ‰“å¼€æµè§ˆå™¨è¾“å…¥http://localhost:4000/ å³å¯åœ¨æœ¬åœ°æŸ¥çœ‹hexoçš„åšå®¢å•¦ï¼</p><h3 id="6-éƒ¨ç½²åˆ°Github-Pages">6.éƒ¨ç½²åˆ°Github Pages</h3><p>â‘ å®‰è£… hexo-deployer-git</p><p>åœ¨åˆšåˆšåˆå§‹åŒ–çš„ç›®å½•æ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>â‘¡ä¿®æ”¹_config.yml æ–‡ä»¶</p><p>config.ymæ˜¯hexoçš„é…ç½®æ–‡ä»¶ï¼Œæœ€ä¸‹é¢æ˜¯éƒ¨ç½²çš„ä¿¡æ¯</p><p>å°†repositoryä¿®æ”¹ä¸ºè‡ªå·±çš„githubé¡¹ç›®åœ°å€å³å¯</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">git@github.com:codeGao9807/codeGao9807.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><p>â‘¢ä¿®æ”¹å¥½åæˆ‘ä»¬å°†ä»£ç éƒ¨ç½²åˆ°Github</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo generate &amp;&amp; hexo deploy</span><br></pre></td></tr></table></figure><ul><li>hexo cleanï¼šåˆ é™¤ä¹‹å‰ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè‹¥æœªç”Ÿæˆè¿‡é™æ€æ–‡ä»¶ï¼Œå¯å¿½ç•¥æ­¤å‘½ä»¤ã€‚</li><li>hexo generateï¼šç”Ÿæˆé™æ€æ–‡ç« ï¼Œå¯ä»¥ç”¨<code>hexo g</code>ç¼©å†™</li><li>hexo deployï¼šéƒ¨ç½²æ–‡ç« ï¼Œå¯ä»¥ç”¨<code>hexo d</code>ç¼©å†™</li></ul><p>å¦‚æœå‡ºç°<code>Deploy done</code>ï¼Œåˆ™è¯´æ˜éƒ¨ç½²æˆåŠŸäº†ã€‚</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸€)_hexoåšå®¢æ­å»º/8.png"/></div></div><p>åˆ°githubä»“åº“ä¸Šçœ‹ä¸€ä¸‹æˆ‘ä»¬çš„é¡¹ç›®</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸€)_hexoåšå®¢æ­å»º/9.png"/></div></div><p>å¦‚æœå‡ºç°é»„è‰²çš„å°ç‚¹ï¼Œè¯´æ˜è¿˜æ²¡éƒ¨ç½²å¥½</p><p>å¦‚æœå‡ºç°ç»¿è‰²çš„å°±å¯ä»¥è®¿é—®äº†ï¼</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/åšå®¢æ­å»º(ä¸€)_hexoåšå®¢æ­å»º/10.png"/></div></div>]]></content>
    
    
    <summary type="html">ä¸»è¦æ˜¯ç¯å¢ƒå®‰è£…ï¼ŒåŒ…æ‹¬hexoå®‰è£…ã€gitå®‰è£…ç­‰</summary>
    
    
    
    <category term="åšå®¢æ­å»º" scheme="https://codegao.cc/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    
    
    <category term="hexo" scheme="https://codegao.cc/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Linuxå‘½ä»¤</title>
    <link href="https://codegao.cc/posts/82734d8.html"/>
    <id>https://codegao.cc/posts/82734d8.html</id>
    <published>2022-12-02T07:33:00.000Z</published>
    <updated>2023-05-31T08:43:14.606Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½•Linuxä¸­ä½¿ç”¨åˆ°çš„å‘½ä»¤</p><h3 id="åå°å¯åŠ¨">åå°å¯åŠ¨</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh test.sh&amp;</span><br></pre></td></tr></table></figure><h3 id="æ‰“zipåŒ…">æ‰“zipåŒ…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zip -r -q -o Django.zip /home/project/Django</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹ç½‘ç»œæ•°æ®ä¼ è¾“">æŸ¥çœ‹ç½‘ç»œæ•°æ®ä¼ è¾“</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcpdump -i eth0 host 103.254.76.103 -vvv -A -x</span><br></pre></td></tr></table></figure><h3 id="å…³é—­ç½‘å¡">å…³é—­ç½‘å¡</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig [NIC_NAME] down</span><br></pre></td></tr></table></figure><h3 id="è®¾ç½®ä¸»æœºå">è®¾ç½®ä¸»æœºå</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/hostname</span><br></pre></td></tr></table></figure><h3 id="è®¾ç½®ä¸»æœºåä¸ipæ˜ å°„">è®¾ç½®ä¸»æœºåä¸ipæ˜ å°„</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/hosts</span><br></pre></td></tr></table></figure><h3 id="W10-Warning-Changing-a-readonly-file">W10: Warning: Changing a <a href="https://so.csdn.net/so/search?q=readonly&amp;spm=1001.2101.3001.7020">readonly</a> file</h3><p>å‡ºç°åŸå› ï¼š</p><ol><li>æ–‡ä»¶è¢«é”å®šï¼›</li><li>å½“å‰è§’è‰²åªæœ‰è¯»çš„æƒé™ï¼›</li></ol><p>è§£å†³åŠæ³•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod u+w æ–‡ä»¶è·¯å¾„</span><br></pre></td></tr></table></figure><h3 id="æ— æ³•åˆ›å»ºç›®å½•ï¼šæƒé™ä¸å¤Ÿ">æ— æ³•åˆ›å»ºç›®å½•ï¼šæƒé™ä¸å¤Ÿ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chown -R ç”¨æˆ·å è·¯å¾„</span><br></pre></td></tr></table></figure><h3 id="é˜²ç«å¢™">é˜²ç«å¢™</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=80/tcp --permanent Â  Â ï¼ˆ--permanentæ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆï¼‰</span><br><span class="line"></span><br><span class="line">firewall-cmd --zone=public --add-port=9111/tcp --permanent</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é‡æ–°è½½å…¥</span></span><br><span class="line"></span><br><span class="line">firewall-cmd --reload</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹</span></span><br><span class="line"></span><br><span class="line">firewall-cmd --zone=public --query-port=80/tcp</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ é™¤</span></span><br><span class="line"></span><br><span class="line">firewall-cmd --zone=public --remove-port=80/tcp --permanent</span><br><span class="line"></span><br><span class="line">firewall-cmd --zone=public --list-ports</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å…³é—­</span></span><br><span class="line">systemctl stop firewalld.service</span><br></pre></td></tr></table></figure><h3 id="æ˜¾ç¤ºæ–‡ä»¶è¡Œæ•°">æ˜¾ç¤ºæ–‡ä»¶è¡Œæ•°</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set nu</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹ç«¯å£ä¿¡æ¯">æŸ¥çœ‹ç«¯å£ä¿¡æ¯</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -nltp</span><br></pre></td></tr></table></figure><h3 id="ç£ç›˜ç›¸å…³">ç£ç›˜ç›¸å…³</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹ç£ç›˜åˆ†åŒºå¤§å°</span></span><br><span class="line">df -h</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æŸ¥çœ‹æ ¹ç›®å½•ä¸‹æ–‡ä»¶å¤¹å¤§å°</span></span><br><span class="line">cd / &amp;&amp; du -h -x --max-depth=1</span><br></pre></td></tr></table></figure><h3 id="è½¯ä»¶å®‰è£…">è½¯ä»¶å®‰è£…</h3><h4 id="1-telnet">1.telnet</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//å…ˆæ£€æŸ¥rpmåŒ…æ˜¯å¦å®‰è£…</span><br><span class="line">rpm -qa telnet-server</span><br><span class="line">//å®‰è£…telnet-server</span><br><span class="line">yum install telnet-server</span><br><span class="line">//æ£€æµ‹telnetçš„rpmåŒ…æ˜¯å¦å®‰è£…</span><br><span class="line">rpm -qa telnet</span><br><span class="line">//å®‰è£…telnet</span><br><span class="line">yum install telnet</span><br></pre></td></tr></table></figure><h4 id="2-dos2unix">2.dos2unix</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install dos2unix*</span><br></pre></td></tr></table></figure><h4 id="3-expect">3.expect</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">//å…ˆå®‰è£…tcl</span><br><span class="line">//ä¸‹è½½tclå®‰è£…åŒ…ï¼Œhttps://sourceforge.net/projects/tcl/files/Tcl/8.6.12/tcl8.6.12-src.tar.gz/download</span><br><span class="line">tar -zxf tcl8.6.12-src.tar.gz</span><br><span class="line">cd tcl8.6.12/unix/</span><br><span class="line">./configure --prefix=/usr/tcl --enable-shared</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç›®å½•tcl8.6.12/unix/ä¸‹çš„tclUnixPort.hå¤åˆ¶åˆ°genericä¸­</span></span><br><span class="line">cp tclUnixPort.h ../generic/</span><br><span class="line">ã€‚</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æˆæƒå…è®¸æ™®é€šç”¨æˆ·ä½¿ç”¨</span></span><br><span class="line">chmod  755 /usr/tcl/lib/expect5.45.4</span><br><span class="line">chmod -R 755 /usr/tcl</span><br><span class="line"></span><br><span class="line">//å®‰è£…expect</span><br><span class="line">//ä¸‹è½½å®‰è£…åŒ…ï¼šhttps://jaist.dl.sourceforge.net/project/expect/Expect/5.45.4/expect5.45.4.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxf expect5.45.4.tar.gz</span><br><span class="line">cd expect5.45.4</span><br><span class="line">./configure --prefix=/usr/expect --with-tcl=/usr/tcl/lib --with-tclinclude=../tcl8.6.12/generic##é…ç½®expectçš„å®‰è£…è·¯å¾„ï¼Œ--with-tclä¸ºå‘Šè¯‰configureè„šæœ¬tclè§£é‡Šå™¨ä½ç½®ï¼Œ--with-tclincludeä¸ºå‘Šè¯‰è„šæœ¬tclå¤´æ–‡ä»¶ä½ç½®</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line">ln -s /usr/tcl/bin/expect /usr/expect/bin/expect</span><br><span class="line"></span><br><span class="line">chmod -R 755 /usr/expect</span><br><span class="line">chmod 755 /usr/expect/bin</span><br><span class="line"></span><br><span class="line">//å‘½ä»¤å†™å…¥ç¯å¢ƒå˜é‡</span><br><span class="line">vi /etc/profile</span><br><span class="line">export PATH=$PATH:/usr/expect/bin/</span><br><span class="line"></span><br><span class="line">source  /etc/profile</span><br><span class="line"></span><br><span class="line">//æµ‹è¯•</span><br><span class="line">è¾“å…¥expectå‘½ä»¤ï¼Œçœ‹æ˜¯å¦è¿›å…¥å½¢å¦‚expect1.1&gt;è¿™æ ·çš„å‘½ä»¤è¡Œ</span><br></pre></td></tr></table></figure><h4 id="4-å®‰è£…mysql">4.å®‰è£…mysql</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//æŸ¥çœ‹æ˜¯å¦å·²ç»å®‰è£… Mysql</span><br><span class="line">rpm -qa | grep mysql</span><br><span class="line">//å¦‚æœå®‰è£…è¿‡å¯ä»¥æ‰§è¡Œå‘½ä»¤åˆ é™¤</span><br><span class="line">rpm -e æ–‡ä»¶å</span><br><span class="line">//ä¸‹è½½å®˜æ–¹ Mysql åŒ…</span><br><span class="line">wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm</span><br><span class="line">//å®‰è£…åŒ…</span><br><span class="line">yum -y install mysql57-community-release-el7-10.noarch.rpm</span><br><span class="line">//å®‰è£…MySQL</span><br><span class="line">yum -y install mysql-community-server</span><br><span class="line">//å¦‚æœå®‰è£…å¤±è´¥æç¤ºå¯†é’¥å›½ä¼å¯ä»¥æ‰§è¡Œä¸‹é¢å‘½ä»¤</span><br><span class="line"> rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</span><br><span class="line">//å¯åŠ¨æœåŠ¡</span><br><span class="line">systemctl start mysqld.service</span><br><span class="line">//æŸ¥çœ‹ Mysql è¿è¡ŒçŠ¶æ€</span><br><span class="line">service mysqld status</span><br><span class="line">//æŸ¥çœ‹åˆå§‹å¯†ç </span><br><span class="line">grep â€˜passwordâ€™ /var/log/mysqld.log</span><br><span class="line">//è¿›å…¥æ•°æ®åº“</span><br><span class="line">mysql -u root -p</span><br><span class="line">//å¦‚æœæç¤ºæ•°æ®åº“æ— æ³•è®¿é—®ï¼Œä¿®æ”¹my.cnf</span><br><span class="line">//ä¿®æ”¹ä¹‹å‰å…ˆå…³é—­mysqlæœåŠ¡</span><br><span class="line">service mysqld stop</span><br><span class="line">//ä¿®æ”¹ vi /etc/my.cnf</span><br><span class="line">//æ·»åŠ skip-grant-tablesï¼Œè¿™æ ·mysqlå¯ä»¥å…å¯†ç™»å½•ã€‚</span><br><span class="line">//é‡å¯æœåŠ¡</span><br><span class="line">systemctl restart mysqld.service</span><br><span class="line">//åˆ‡æ¢mysqlæ•°æ®åº“</span><br><span class="line">show databases;</span><br><span class="line">use mysql;</span><br><span class="line">//é‡ç½®å¯†ç rootä¸ºroot</span><br><span class="line">update user set authentication_string=password(&quot;root&quot;) where user=&quot;root&quot;;</span><br><span class="line">//åˆ é™¤skip-grant-tables</span><br><span class="line">//é‡å¯æœåŠ¡</span><br></pre></td></tr></table></figure><h4 id="5-å®‰è£…Nginx">5.å®‰è£…Nginx</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">//1.å®‰è£…ä¾èµ–åŒ…</span><br><span class="line">//ä¸€é”®å®‰è£…ä¸Šé¢å››ä¸ªä¾èµ–</span><br><span class="line">yum -y install gcc zlib zlib-devel pcre-devel openssl openssl-devel</span><br><span class="line"></span><br><span class="line">//2.ä¸‹è½½å¹¶è§£å‹å®‰è£…åŒ…</span><br><span class="line">//åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</span><br><span class="line">cd /usr/local</span><br><span class="line">mkdir nginx</span><br><span class="line">cd nginx</span><br><span class="line">//ä¸‹è½½taråŒ…</span><br><span class="line">wget http://nginx.org/download/nginx-1.13.7.tar.gz</span><br><span class="line">tar -xvf nginx-1.13.7.tar.gz</span><br><span class="line"></span><br><span class="line">//3.å®‰è£…nginx</span><br><span class="line">//è¿›å…¥nginxç›®å½•</span><br><span class="line">cd /usr/local/nginx</span><br><span class="line">//è¿›å…¥ç›®å½•</span><br><span class="line">cd nginx-1.13.7</span><br><span class="line">//æ‰§è¡Œå‘½ä»¤ è€ƒè™‘åˆ°åç»­å®‰è£…sslè¯ä¹¦ æ·»åŠ ä¸¤ä¸ªæ¨¡å—</span><br><span class="line">./configure --with-http_stub_status_module --with-http_ssl_module</span><br><span class="line">//æ‰§è¡Œmakeå‘½ä»¤</span><br><span class="line">make</span><br><span class="line">//æ‰§è¡Œmake installå‘½ä»¤</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">//4.é…ç½®nginx.conf</span><br><span class="line">vi /usr/local/nginx/conf/nginx.conf</span><br><span class="line"></span><br><span class="line">//5.å¯åŠ¨æœåŠ¡</span><br><span class="line">/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf</span><br><span class="line"></span><br><span class="line">//6.é‡å¯nginx</span><br><span class="line">/usr/local/nginx/sbin/nginx -s reload</span><br></pre></td></tr></table></figure><h4 id="6-Hadoopå•æœºå®‰è£…">6.Hadoopå•æœºå®‰è£…</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir input</span><br><span class="line">cp etc/hadoop/*.xml input</span><br><span class="line">bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar grep input output &#x27;dfs[a-z.]+&#x27;</span><br><span class="line">cat output/*</span><br></pre></td></tr></table></figure><h4 id="7-Hiveå®‰è£…">7.Hiveå®‰è£…</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.è§£å‹å‹ç¼©åŒ…</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.é…ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">HIVE</span></span><br><span class="line">export HIVE_HOME=/usr/local/hive</span><br><span class="line">export PATH=$PATH:$HIVE_HOME/bin</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3.æŸ¥çœ‹hive ç‰ˆæœ¬</span></span><br><span class="line">hive --version</span><br></pre></td></tr></table></figure><h4 id="8-Sparkå®‰è£…">8.Sparkå®‰è£…</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.è§£å‹å‹ç¼©åŒ…</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.é…ç½®ç¯å¢ƒå˜é‡</span></span><br><span class="line">export SPARK_HOME=/home/hadoop/spark</span><br><span class="line">export PATH=$SPARK_HOME/bin:$PATH:$SPARK_HOME:sbin</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3.åœ¨spark/confç›®å½•ä¸‹</span></span><br><span class="line">cp spark-env.sh.template spark-env.sh</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4.åœ¨spark-env.shé‡Œæ·»åŠ hadoopçš„è·¯å¾„</span></span><br><span class="line">export SPARK_DIST_CLASSPATH=$(/home/hadoop/hadoop/bin/hadoop classpath)</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">5.æŸ¥çœ‹sparkæ˜¯å¦å®‰è£…æˆåŠŸ</span></span><br><span class="line">run-example SparkPi 2&gt;&amp;1 | grep &quot;Pi is&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">6.ä½¿ç”¨spark shell</span></span><br><span class="line">spark shell</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">è®°å½•Linuxä½¿ç”¨è¿‡çš„å‘½ä»¤</summary>
    
    
    
    <category term="æœåŠ¡å™¨" scheme="https://codegao.cc/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
    <category term="Linux" scheme="https://codegao.cc/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Nginxé—®é¢˜</title>
    <link href="https://codegao.cc/posts/dab7678.html"/>
    <id>https://codegao.cc/posts/dab7678.html</id>
    <published>2022-12-01T09:33:00.000Z</published>
    <updated>2023-03-13T07:41:12.652Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡æ”¶é›†Nginxä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜</p><h3 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</h3><p>nginxçš„ä½¿ç”¨(å¯åŠ¨ã€é‡å¯ã€å…³é—­)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ©ç”¨é…ç½®æ–‡ä»¶å¯åŠ¨nginxã€‚</span></span><br><span class="line">nginx -c /usr/local/nginx/conf/nginx.conf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é‡å¯æœåŠ¡ï¼š</span> </span><br><span class="line">service nginx restart</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¿«é€Ÿåœæ­¢æˆ–å…³é—­</span></span><br><span class="line">Nginxï¼šnginx -s stop</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">æ­£å¸¸åœæ­¢æˆ–å…³é—­</span></span><br><span class="line">Nginxï¼šnginx -s quit</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">é…ç½®æ–‡ä»¶ä¿®æ”¹é‡è£…è½½å‘½ä»¤</span></span><br><span class="line">nginx -s reload</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="â‘ æŸ¥çœ‹Nginxé…ç½®æ–‡ä»¶ä½ç½®">â‘ æŸ¥çœ‹Nginxé…ç½®æ–‡ä»¶ä½ç½®</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#æŸ¥çœ‹å®‰è£…ä½ç½®</span></span></span><br><span class="line">ps -aux|grep nginx</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img" src="/images/assets/Nginx/image-20230105103019170.png"/></div></div><p>ç„¶åæ ¹æ®å®‰è£…ä½ç½®æµ‹è¯•é…ç½®æ–‡ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#æµ‹è¯•é…ç½®æ–‡ä»¶</span></span></span><br><span class="line">/usr/sbin/nginx -t</span><br></pre></td></tr></table></figure><p>å°±å¯ä»¥æ‰¾åˆ°é…ç½®æ–‡ä»¶äº†</p>]]></content>
    
    
    <summary type="html">è®°å½•Nginxä½¿ç”¨çš„å‘½ä»¤åŠé‡åˆ°çš„é—®é¢˜</summary>
    
    
    
    <category term="æœåŠ¡å™¨" scheme="https://codegao.cc/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
    <category term="Nginx" scheme="https://codegao.cc/tags/Nginx/"/>
    
  </entry>
  
</feed>
